/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";var e={63:(e,t,r)=>{var n=r(543),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,c=n[1];return a((function(){o.value=r,o.getSnapshot=t,d(o)&&c({inst:o})}),[e,r,t]),s((function(){return d(o)&&c({inst:o}),e((function(){d(o)&&c({inst:o})}))}),[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},72:(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,x=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,v=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case i:case a:case s:case x:return e;default:switch(e=e&&e.$$typeof){case d:case p:case h:case f:case l:return e;default:return t}}case o:return t}}}function j(e){return S(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=h,t.Memo=f,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=x,t.isAsyncMode=function(e){return j(e)||S(e)===c},t.isConcurrentMode=j,t.isContextConsumer=function(e){return S(e)===d},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===i},t.isLazy=function(e){return S(e)===h},t.isMemo=function(e){return S(e)===f},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===a},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===x},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===x||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v||e.$$typeof===m)},t.typeOf=S},146:(e,t,r)=>{var n=r(404),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?s:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(g){var o=x(r);o&&o!==g&&e(t,o,n)}var s=c(r);u&&(s=s.concat(u(r)));for(var a=l(t),f=l(r),h=0;h<s.length;++h){var m=s[h];if(!(i[m]||n&&n[m]||f&&f[m]||a&&a[m])){var b=p(r,m);try{d(t,m,b)}catch(e){}}}}return t}},242:(e,t,r)=>{e.exports=r(940)},303:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.jsxs=t.jsx=t.default=t.Fragment=void 0;const{libraries:{React:{jsxRuntime:r}}}=NEXUS,{Fragment:n,jsx:o,jsxs:i}=r;t.jsxs=i,t.jsx=o,t.Fragment=n,t.default=r.default},327:(e,t,r)=>{t.nV=t.$n=void 0,Object.defineProperty(t,"Zv",{enumerable:!0,get:function(){return n.INITIALIZE}}),Object.defineProperty(t,"oj",{enumerable:!0,get:function(){return o.default}}),t.A_=void 0,Object.defineProperty(t,"yt",{enumerable:!0,get:function(){return n.listenToWalletData}}),Object.defineProperty(t,"se",{enumerable:!0,get:function(){return n.stateMiddleware}}),Object.defineProperty(t,"QO",{enumerable:!0,get:function(){return n.storageMiddleware}}),Object.defineProperty(t,"Wy",{enumerable:!0,get:function(){return n.walletDataReducer}});i(r(594));var n=r(536),o=i(r(540));i(r(788));function i(e){return e&&e.__esModule?e:{default:e}}const{walletVersion:s,components:{GlobalStyles:a,ThemeController:l,Icon:d,Panel:c,AutoSuggest:u,FieldSet:p,Switch:x,Modal:g,Tooltip:f,Select:h,TextField:m,FormField:b,Arrow:y,HorizontalTab:v,VerticalTab:S,Button:j,Dropdown:k}={},utilities:{color:w,copyToClipboard:N,send:C,showNotification:E,showErrorDialog:T,showSuccessDialog:A,showInfoDialog:O,rpcCall:R,apiCall:D,secureApiCall:B,proxyRequest:F,confirm:X,updateState:U,updateStorage:I,onceInitialize:P,onWalletDataUpdated:z,openInBrowser:M}={}}=r.g.NEXUS||{};t.$n=j,t.A_=m,t.nV=p},363:(e,t,r)=>{r(799)},404:(e,t,r)=>{e.exports=r(72)},536:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_WALLET_DATA=t.INITIALIZE=void 0,t.listenToWalletData=function(e){i((t=>{e.dispatch({type:a,payload:t})})),s((t=>{e.dispatch({type:l,payload:t})}))},t.stateMiddleware=function(e){return t=>r=>o=>{const i=e(t.getState()),s=r(o),a=e(t.getState());return a!==i&&n(a),s}},t.storageMiddleware=function(e){return t=>r=>n=>{const i=e(t.getState()),s=r(n),a=e(t.getState());return a!==i&&o(a),s}},t.walletDataReducer=function(e=d,t){switch(t.type){case a:return{...e,initialized:!0,theme:t.payload.theme,settings:t.payload.settings,coreInfo:t.payload.coreInfo,userStatus:t.payload.userStatus,addressBook:t.payload.addressBook};case l:return{...e,...t.payload,initialized:!0};default:return e}};const{utilities:{updateState:n,updateStorage:o,onceInitialize:i,onWalletDataUpdated:s}={}}=r.g.NEXUS||{},a=t.INITIALIZE="@@NWM/INITIALIZE",l=t.UPDATE_WALLET_DATA="@@NWM/UPDATE_WALLET_DATA",d={initialized:!1,theme:null,settings:null,coreInfo:null,userStatus:null,addressBook:null}},540:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({initialized:e,theme:t,children:r}){const[c,u]=i.useState(null);return i.useEffect((()=>{o&&u(a({container:document.head,key:"emotion"}))}),[]),o&&e&&c?(0,n.jsx)(s,{value:c,children:(0,n.jsxs)(l,{theme:t,children:[(0,n.jsx)(d,{}),r]})}):null};var n=r(303);const o=r.g.NEXUS,i=o?.libraries.React,s=o?.libraries.emotion.react.CacheProvider,a=o?.libraries.emotion.cache,l=o?.components.ThemeController,d=o?.components.GlobalStyles},543:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.useTransition=t.useSyncExternalStore=t.useState=t.useRef=t.useReducer=t.useOptimistic=t.useMemo=t.useLayoutEffect=t.useInsertionEffect=t.useImperativeHandle=t.useId=t.useEffect=t.useDeferredValue=t.useDebugValue=t.useContext=t.useCallback=t.useActionState=t.use=t.unstable_useCacheRefresh=t.startTransition=t.memo=t.lazy=t.isValidElement=t.forwardRef=t.default=t.createRef=t.createFactory=t.createElement=t.createContext=t.cloneElement=t.captureOwnerStack=t.cache=t.act=t.Suspense=t.StrictMode=t.PureComponent=t.Profiler=t.Fragment=t.Component=t.Children=void 0;const{libraries:{React:r}}=NEXUS,{Children:n,Component:o,Fragment:i,Profiler:s,PureComponent:a,StrictMode:l,Suspense:d,act:c,cache:u,captureOwnerStack:p,cloneElement:x,createContext:g,createFactory:f,createElement:h,createRef:m,forwardRef:b,isValidElement:y,lazy:v,memo:S,startTransition:j,unstable_useCacheRefresh:k,use:w,useActionState:N,useCallback:C,useContext:E,useDebugValue:T,useDeferredValue:A,useEffect:O,useId:R,useImperativeHandle:D,useInsertionEffect:B,useLayoutEffect:F,useMemo:X,useOptimistic:U,useReducer:I,useRef:P,useState:z,useSyncExternalStore:M,useTransition:W,version:$}=r;t.version=$,t.useTransition=W,t.useSyncExternalStore=M,t.useState=z,t.useRef=P,t.useReducer=I,t.useOptimistic=U,t.useMemo=X,t.useLayoutEffect=F,t.useInsertionEffect=B,t.useImperativeHandle=D,t.useId=R,t.useEffect=O,t.useDeferredValue=A,t.useDebugValue=T,t.useContext=E,t.useCallback=C,t.useActionState=N,t.use=w,t.unstable_useCacheRefresh=k,t.startTransition=j,t.memo=S,t.lazy=v,t.isValidElement=y,t.forwardRef=b,t.createRef=m,t.createElement=h,t.createFactory=f,t.createContext=g,t.cloneElement=x,t.captureOwnerStack=p,t.cache=u,t.act=c,t.Suspense=d,t.StrictMode=l,t.PureComponent=a,t.Profiler=s,t.Fragment=i,t.Component=o,t.Children=n,t.default=r.default},594:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={react$:"nexus-module/lib/react/index","react/jsx-runtime$":"nexus-module/lib/react/jsx-runtime","react/jsx-dev-runtime$":"nexus-module/lib/react/jsx-dev-runtime","react-dom$":"nexus-module/lib/react-dom/index","react-dom/client$":"nexus-module/lib/react-dom/client","@emotion/react$":"nexus-module/lib/@emotion/react","@emotion/cache$":"nexus-module/lib/@emotion/cache","@emotion/styled$":"nexus-module/lib/@emotion/styled"}},771:(e,t)=>{t.Hr=void 0;const{libraries:{ReactDOM:r}}=NEXUS,{createRoot:n,hydrateRoot:o,version:i}=r.client;t.Hr=n,r.client.default},786:(e,t)=>{t.A=void 0;const{libraries:{emotion:r}}=NEXUS;t.A=r.styled},788:(e,t,r)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const o=((n=r(812))&&n.__esModule?n:{default:n}).default.browserslist;t.default=o},799:(e,t)=>{Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},812:e=>{e.exports=JSON.parse('{"name":"nexus-module","version":"1.1.11","description":"Useful helpers for Nexus Wallet Module developers","main":"lib/index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","build":"cross-env NODE_ENV=production babel src --out-dir lib","publish":"npm run build && npm publish"},"author":"Krysto","license":"ISC","browserslist":"electron 16.0.5","devDependencies":{"@babel/cli":"^7.27.2","@babel/core":"^7.27.4","@babel/plugin-syntax-import-attributes":"^7.27.1","@babel/preset-env":"^7.27.2","cross-env":"^7.0.3"},"dependencies":{"@babel/preset-react":"^7.27.1"}}')},888:(e,t,r)=>{e.exports=r(63)},940:(e,t,r)=>{var n=r(543),o=r(888),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=o.useSyncExternalStore,a=n.useRef,l=n.useEffect,d=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var u=a(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=d((function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(s=e,a=r)}var s,a,l=!1,d=void 0===r?null:r;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]}),[t,r,n,o]);var x=s(e,u[0],u[1]);return l((function(){p.hasValue=!0,p.value=x}),[x]),c(x),x}},994:(e,t)=>{t.rS=void 0;const{libraries:{ReactDOM:r}}=NEXUS,{createPortal:n,flushSync:o,preconnect:i,prefetchDNS:s,preinit:a,preinitModule:l,preload:d,preloadModule:c,requestFormReset:u,unstable_batchedUpdates:p,useFormState:x,useFormStatus:g,version:f}=r;t.rS=p,r.default}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var n=r(771),o=r(888),i=r(242),s=r(994);let a=function(e){e()};const l=()=>a;var d=r(543);const c=d.default.createContext(null);function u(){return(0,d.useContext)(c)}let p=()=>{throw new Error("uSES not initialized!")};const x=(e,t)=>e===t;function g(e=c){const t=e===c?u:()=>(0,d.useContext)(e);return function(e,r=x){const{store:n,subscription:o,getServerState:i}=t(),s=p(o.addNestedSub,n.getState,i||n.getState,e,r);return(0,d.useDebugValue)(s),s}}const f=g();r(146),r(363);const h={notify(){},get:()=>[]};const m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?d.useLayoutEffect:d.useEffect;let b=null;const y=function({store:e,context:t,children:r,serverState:n}){const o=(0,d.useMemo)((()=>{const t=function(e,t){let r,n=h;function o(){s.onStateChange&&s.onStateChange()}function i(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){const e=l();let t=null,r=null;return{clear(){t=null,r=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}const s={addNestedSub:function(e){return i(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(r)},trySubscribe:i,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=h)},getListeners:()=>n};return s}(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0}}),[e,n]),i=(0,d.useMemo)((()=>e.getState()),[e]);m((()=>{const{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),i!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[o,i]);const s=t||c;return d.default.createElement(s.Provider,{value:o},r)};function v(e=c){const t=e===c?u:()=>(0,d.useContext)(e);return function(){const{store:e}=t();return e}}const S=v();function j(e=c){const t=e===c?S:v(e);return function(){return t().dispatch}}const k=j();var w,N;w=i.useSyncExternalStoreWithSelector,p=w,(e=>{b=e})(o.useSyncExternalStore),N=s.rS,a=N;var C=r(327);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var R="function"==typeof Symbol&&Symbol.observable||"@@observable",D=function(){return Math.random().toString(36).substring(7).split("").join(".")},B={INIT:"@@redux/INIT"+D(),REPLACE:"@@redux/REPLACE"+D(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D()}};function F(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(O(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(O(1));return r(F)(e,t)}if("function"!=typeof e)throw new Error(O(2));var o=e,i=t,s=[],a=s,l=!1;function d(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(O(3));return i}function u(e){if("function"!=typeof e)throw new Error(O(4));if(l)throw new Error(O(5));var t=!0;return d(),a.push(e),function(){if(t){if(l)throw new Error(O(6));t=!1,d();var r=a.indexOf(e);a.splice(r,1),s=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(O(7));if(void 0===e.type)throw new Error(O(8));if(l)throw new Error(O(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=s=a,r=0;r<t.length;r++)(0,t[r])();return e}return p({type:B.INIT}),(n={dispatch:p,subscribe:u,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(O(10));o=e,p({type:B.REPLACE})}})[R]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(O(11));function r(){e.next&&e.next(c())}return r(),{unsubscribe:t(r)}}})[R]=function(){return this},e},n}function X(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}var i,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:B.INIT}))throw new Error(O(12));if(void 0===r(void 0,{type:B.PROBE_UNKNOWN_ACTION()}))throw new Error(O(13))}))}(r)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},a=0;a<s.length;a++){var l=s[a],d=r[l],c=e[l],u=d(c,t);if(void 0===u)throw t&&t.type,new Error(O(14));o[l]=u,n=n||u!==c}return(n=n||s.length!==Object.keys(e).length)?o:e}}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function I(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(O(15))},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return n=U.apply(void 0,i)(r.dispatch),A(A({},r),{},{dispatch:n})}}}const P="SET_ACTIVE_TAB",z="UPDATE_PROFILE_FORM",M="UPDATE_SESSION_FORM",W="SET_USER_PROFILE",$="SET_SESSION_STATUS",_=X({showingConnections:(e=!1,t)=>{switch(t.type){case"SHOW_CONNECTIONS":return!0;case"HIDE_CONNECTIONS":return!1;default:return e}}}),V={username:"",password:"",pin:""},Y={username:"",password:"",pin:""},L=X({inputValue:(e="",t)=>"UPDATE_INPUT"===t.type?t.payload:e,activeTab:function(e="dashboard",t){return t.type===P?t.payload:e},profileForm:function(e=V,t){return t.type===z?{...e,...t.payload}:e},sessionForm:function(e=Y,t){return t.type===M?{...e,...t.payload}:e},userProfile:function(e=null,t){return t.type===W?t.payload:e},sessionStatus:function(e=null,t){return t.type===$?t.payload:e}});var H=r(786);const G=e=>({type:z,payload:e}),q=e=>({type:M,payload:e}),Z=e=>({type:$,payload:e});var J,K,Q,ee,te,re,ne,oe,ie,se,ae,le,de,ce,ue,pe,xe,ge,fe,he,me,be,ye,ve,Se,je,ke,we,Ne,Ce,Ee,Te,Ae,Oe,Re,De,Be,Fe,Xe,Ue,Ie,Pe,ze,Me,We,$e,_e,Ve,Ye,Le,He,Ge,qe,Ze,Je,Ke,Qe,et,tt,rt,nt,ot,it,st,at,lt,dt,ct,ut,pt,xt,gt,ft,ht,mt,bt,yt,vt,St,jt,kt,wt,Nt,Ct,Et,Tt,At,Ot,Rt,Dt,Bt,Ft,Xt,Ut,It,Pt,zt,Mt,Wt=r(303);const{utilities:{confirm:$t,apiCall:_t,secureApiCall:Vt,showErrorDialog:Yt,showSuccessDialog:Lt,showNotification:Ht}}=NEXUS,Gt=H.A.div({background:"linear-gradient(135deg, #0a0a1f 0%, #1a1a2e 50%, #16213e 100%)",minHeight:"100vh",color:"#e2e8f0",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(circle at 50% 0%, rgba(0, 212, 170, 0.03) 0%, transparent 50%)",pointerEvents:"none",zIndex:-1},"& *":{scrollbarWidth:"thin",scrollbarColor:"rgba(0, 212, 170, 0.8) rgba(26, 32, 44, 0.6)"},"& *::-webkit-scrollbar":{width:"12px",height:"12px"},"& *::-webkit-scrollbar-track":{background:"linear-gradient(135deg, rgba(26, 32, 44, 0.8) 0%, rgba(45, 55, 72, 0.6) 100%)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)"},"& *::-webkit-scrollbar-thumb":{background:"linear-gradient(135deg, rgba(0, 212, 170, 0.9) 0%, rgba(0, 184, 148, 1) 100%)",borderRadius:"6px",border:"2px solid rgba(0, 212, 170, 0.4)",boxShadow:"0 3px 12px rgba(0, 212, 170, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.2)",minHeight:"30px"},"& *::-webkit-scrollbar-thumb:hover":{background:"linear-gradient(135deg, rgba(0, 245, 184, 1) 0%, rgba(0, 200, 160, 1) 100%)",boxShadow:"0 6px 18px rgba(0, 212, 170, 0.6), inset 0 1px 2px rgba(255, 255, 255, 0.3)",border:"2px solid rgba(0, 245, 184, 0.6)"},"& *::-webkit-scrollbar-thumb:active":{background:"linear-gradient(135deg, rgba(0, 200, 160, 1) 0%, rgba(0, 170, 140, 1) 100%)",boxShadow:"0 2px 8px rgba(0, 212, 170, 0.3)"},"& *::-webkit-scrollbar-corner":{background:"rgba(26, 32, 44, 0.8)"}}),qt=H.A.div({display:"flex",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",padding:"0 32px",position:"sticky",top:0,zIndex:1e3,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent, rgba(0, 212, 170, 0.5), transparent)"}}),Zt=H.A.button((({active:e})=>({background:e?"linear-gradient(135deg, #00d4aa 0%, #00b894 100%)":"transparent",border:"none",color:e?"#ffffff":"#cbd5e0",padding:"18px 28px",cursor:"pointer",fontSize:"14px",fontWeight:e?"600":"500",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",borderRadius:"12px",margin:"12px 6px",position:"relative",display:"flex",alignItems:"center",gap:"8px",minWidth:"140px",justifyContent:"center",textTransform:"none",letterSpacing:"0.025em",boxShadow:e?"0 4px 20px rgba(0, 212, 170, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)","&:hover":{color:e?"#ffffff":"#00d4aa",background:e?"linear-gradient(135deg, #00e5bc 0%, #00c49a 100%)":"rgba(0, 212, 170, 0.08)",transform:"translateY(-1px)",boxShadow:e?"0 6px 25px rgba(0, 212, 170, 0.4)":"0 4px 15px rgba(0, 212, 170, 0.2)"},"&:active":{transform:"translateY(0)"},"&::before":e?{content:'""',position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",background:"linear-gradient(90deg, #00d4aa, #00b894)",borderRadius:"2px"}:{}}))),Jt=H.A.div({padding:"24px",maxWidth:"1200px",margin:"0 auto",height:"calc(100vh - 120px)",overflowY:"auto",overflowX:"hidden"}),Kt=H.A.div({background:"linear-gradient(145deg, rgba(26, 32, 44, 0.8), rgba(45, 55, 72, 0.6))",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"16px",padding:"28px",margin:"20px 0",backdropFilter:"blur(20px)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.4), 0 8px 25px rgba(0, 0, 0, 0.3)",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent)",borderRadius:"16px 16px 0 0"}}),Qt=(0,H.A)(C.A_)({background:"linear-gradient(135deg, rgba(26, 32, 44, 0.9) 0%, rgba(45, 55, 72, 0.8) 100%)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",color:"#e2e8f0",padding:"16px 20px",fontSize:"15px",fontWeight:"400",width:"100%",minWidth:"320px",height:"52px",marginBottom:"18px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",display:"block",boxSizing:"border-box","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent, rgba(0, 212, 170, 0.3), transparent)",borderRadius:"12px 12px 0 0"},"&:focus":{borderColor:"rgba(0, 212, 170, 0.5)",outline:"none",boxShadow:"0 0 0 3px rgba(0, 212, 170, 0.25), 0 12px 40px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15)",background:"linear-gradient(135deg, rgba(26, 32, 44, 0.95) 0%, rgba(45, 55, 72, 0.9) 100%)",transform:"translateY(-1px)"},"&:hover":{borderColor:"rgba(255, 255, 255, 0.15)",boxShadow:"0 10px 35px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.12)",transform:"translateY(-1px)"},"&::placeholder":{color:"#94a3b8",fontWeight:"400"},"& input":{color:"#e2e8f0",fontSize:"15px",fontWeight:"400",background:"transparent",border:"none",outline:"none",width:"100%","&::placeholder":{color:"#94a3b8",fontWeight:"400"}}}),er=(0,H.A)(C.$n)((({variant:e="primary"})=>({background:"primary"===e?"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)":"secondary"===e?"linear-gradient(135deg, #374151 0%, #4b5563 100%)":"linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%)",border:"secondary"===e?"1px solid rgba(45, 55, 72, 0.6)":"primary"===e?"1px solid rgba(0, 212, 170, 0.3)":"none",color:"primary"===e?"#00d4aa":"#ffffff",padding:"14px 28px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",margin:"0 8px 8px 0",minWidth:"160px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.4)",letterSpacing:"0.5px",textTransform:"uppercase",position:"relative",overflow:"hidden",boxShadow:"primary"===e?"0 8px 25px rgba(0, 212, 170, 0.2), 0 4px 10px rgba(0, 0, 0, 0.3)":"secondary"===e?"0 8px 25px rgba(75, 85, 99, 0.3), 0 4px 10px rgba(0, 0, 0, 0.3)":"0 8px 25px rgba(127, 29, 29, 0.3), 0 4px 10px rgba(0, 0, 0, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.08), transparent)",transition:"left 0.5s"},"&:hover":{transform:"translateY(-3px)",background:"primary"===e?"linear-gradient(135deg, #2d3748 0%, #4a5568 100%)":"secondary"===e?"linear-gradient(135deg, #4b5563 0%, #6b7280 100%)":"linear-gradient(135deg, #991b1b 0%, #b91c1c 100%)",color:"primary"===e?"#00f5d4":"#ffffff",textShadow:"0 3px 6px rgba(0, 0, 0, 0.5)",boxShadow:"primary"===e?"0 12px 35px rgba(0, 212, 170, 0.3), 0 6px 15px rgba(0, 0, 0, 0.4)":"secondary"===e?"0 12px 35px rgba(75, 85, 99, 0.4), 0 6px 15px rgba(0, 0, 0, 0.4)":"0 12px 35px rgba(127, 29, 29, 0.4), 0 6px 15px rgba(0, 0, 0, 0.4)","&::before":{left:"100%"}},"&:active":{transform:"translateY(-1px)",boxShadow:"primary"===e?"0 4px 15px rgba(0, 212, 170, 0.2)":"secondary"===e?"0 4px 15px rgba(75, 85, 99, 0.3)":"0 4px 15px rgba(127, 29, 29, 0.3)"},"&:disabled":{opacity:.5,cursor:"not-allowed",transform:"none",background:"linear-gradient(135deg, #374151 0%, #1f2937 100%)",color:"#9ca3af",textShadow:"0 1px 2px rgba(0, 0, 0, 0.6)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(156, 163, 175, 0.2)","&::before":{display:"none"}}}))),tr=H.A.div((({status:e})=>({display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",background:"connected"===e?"rgba(0, 212, 170, 0.2)":"rgba(255, 107, 107, 0.2)",color:"connected"===e?"#00d4aa":"#ff6b6b",border:"1px solid "+("connected"===e?"#00d4aa":"#ff6b6b")}))),rr=H.A.div({display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginTop:"20px"});function nr(){var e,t,r,n;const o=f((e=>e.ui.activeTab)),i=f((e=>e.ui.profileForm)),s=f((e=>e.ui.sessionForm)),a=f((e=>e.ui.userProfile)),l=f((e=>e.ui.sessionStatus)),c=(f((e=>e.nexus.userStatus)),k()),[u,p]=(0,d.useState)(!1),[x,g]=(0,d.useState)(!1),[h,m]=(0,d.useState)({lastPrice:0,volume24h:0,highPrice:0,lowPrice:0}),[b,y]=(0,d.useState)([]),[v,S]=(0,d.useState)(0),[j,w]=(0,d.useState)(0),[N,E]=(0,d.useState)([]),T=async()=>{if(i.username&&i.password&&i.pin)try{p(!0);const e=await _t("profiles/create/master",{username:i.username,password:i.password,pin:i.pin});NEXUS.utilities.showSuccessDialog({message:"Profile Created Successfully",note:`Transaction ID: ${e.txid}`}),c(G({username:"",password:"",pin:""}))}catch(e){NEXUS.utilities.showErrorDialog({message:"Profile Creation Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Required Fields",note:"Please fill in username, password, and PIN"})},A=async()=>{try{p(!0);const e=await NEXUS.utilities.apiCall("profiles/status/master");c({type:W,payload:e}),NEXUS.utilities.showSuccessDialog({message:"Profile Status Retrieved",note:JSON.stringify(e,null,2)})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Get Profile Status",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}},O=async()=>{if(s.username&&s.password&&s.pin)try{p(!0);const e=await NEXUS.utilities.apiCall("sessions/create/local",{username:s.username,password:s.password,pin:s.pin});NEXUS.utilities.showSuccessDialog({message:"Session Created Successfully",note:`Session ID: ${e.session}`}),await D()}catch(e){NEXUS.utilities.showErrorDialog({message:"Session Creation Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Required Fields",note:"Please fill in username, password, and PIN"})},R=async()=>{try{p(!0);const e=await NEXUS.utilities.apiCall("sessions/unlock/local",{pin:s.pin,mining:!1,notifications:!0,staking:!1,transactions:!0});c(Z(e)),NEXUS.utilities.showSuccessDialog({message:"Session Unlocked Successfully",note:"Session is now ready for transactions"})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Unlock Session",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}},D=async()=>{try{const e=await NEXUS.utilities.apiCall("sessions/status/local");c(Z(e))}catch(e){console.error("Failed to get session status:",e)}},B=async()=>{if(await NEXUS.utilities.confirm({question:"Are you sure you want to terminate the current session?"}))try{p(!0),await NEXUS.utilities.apiCall("sessions/terminate/local",{pin:s.pin}),c(Z(null)),NEXUS.utilities.showSuccessDialog({message:"Session Terminated",note:"The session has been successfully terminated"})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Terminate Session",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}};(0,d.useEffect)((()=>{D()}),[]),(0,d.useEffect)((()=>{"marketplace"===o&&Nr()}),[o]);const[F,X]=(0,d.useState)({bids:[],asks:[]}),[U,I]=(0,d.useState)({bids:[],asks:[]}),[z,M]=(0,d.useState)("CARBON/NXS"),[$,_]=(0,d.useState)({type:"bid",amount:"",price:"",from:"",to:""}),V=async()=>{if($.amount&&$.price&&$.from&&$.to)try{p(!0);const e=await NEXUS.utilities.secureApiCall(`market/create/${$.type}`,{market:z,amount:parseFloat($.amount),price:parseFloat($.price),from:$.from,to:$.to});NEXUS.utilities.showSuccessDialog({message:"Order Created Successfully",note:`Transaction ID: ${e.txid}`}),_({type:"bid",amount:"",price:"",from:"",to:""}),await $t()}catch(e){NEXUS.utilities.showErrorDialog({message:"Order Creation Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Required Fields",note:"Please fill in all order details"})},Y=async e=>{if($.from&&$.to)try{p(!0);const t=await NEXUS.utilities.secureApiCall("market/execute/order",{txid:e,from:$.from,to:$.to});NEXUS.utilities.showSuccessDialog({message:"Order Executed Successfully",note:`Transaction ID: ${t.txid}`}),await $t()}catch(e){NEXUS.utilities.showErrorDialog({message:"Order Execution Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Account Details",note:"Please specify from and to accounts"})},L=async e=>{try{p(!0);const t=await NEXUS.utilities.secureApiCall("market/cancel/order",{txid:e});NEXUS.utilities.showSuccessDialog({message:"Order Canceled Successfully",note:`Transaction ID: ${t.txid}`}),await $t()}catch(e){NEXUS.utilities.showErrorDialog({message:"Order Cancellation Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}},$t=async()=>{try{const[e,t]=await Promise.allSettled([NEXUS.utilities.apiCall("market/list/order",{market:z,limit:100}),NEXUS.utilities.apiCall("market/user/order",{market:z})]);"fulfilled"===e.status?X(e.value||{bids:[],asks:[]}):(console.error("Failed to load market data:",e.reason),X({bids:[],asks:[]})),"fulfilled"===t.status?I(t.value||{bids:[],asks:[]}):(console.error("Failed to load user orders:",t.reason),I({bids:[],asks:[]}))}catch(e){console.error("Failed to refresh market data:",e),X({bids:[],asks:[]}),I({bids:[],asks:[]})}},Vt=async()=>{try{const e=await NEXUS.utilities.apiCall("finance/list/account");E(e||[])}catch(e){console.error("Failed to load user accounts:",e)}},Yt=(0,d.useMemo)((()=>{const e=e=>(null==e?void 0:e.map((e=>{var t,r,n,o,i,s,a,l,d;const c=(e,t)=>"NXS"!==t&&t?parseFloat(e||0):parseFloat(e||0)/1e6,u=c(null===(t=e.contract)||void 0===t?void 0:t.amount,null===(r=e.contract)||void 0===r?void 0:r.ticker),p=c(null===(n=e.order)||void 0===n?void 0:n.amount,null===(o=e.order)||void 0===o?void 0:o.ticker);let x,g,f,h,m,b=parseFloat(e.price||0);var y,v,S,j;return b>1e5&&(b/=1e6),"bid"===e.type?(g=p,f=u,h=(null===(y=e.order)||void 0===y?void 0:y.ticker)||"NXS",m=(null===(v=e.contract)||void 0===v?void 0:v.ticker)||"CARBON",x=b*u):(g=u,f=p,h=(null===(S=e.contract)||void 0===S?void 0:S.ticker)||"CARBON",m=(null===(j=e.order)||void 0===j?void 0:j.ticker)||"NXS",x=b*u),{...e,processedData:{contractAmount:u,orderAmount:p,price:b,totalValue:x,formattedPrice:b.toFixed(6),formattedContractAmount:u.toFixed(2),formattedOrderAmount:p.toFixed(2),formattedTotalValue:x.toFixed(6),shortTxid:null===(i=e.txid)||void 0===i?void 0:i.substring(0,16),shortFromAddress:null===(s=e.contract)||void 0===s||null===(a=s.from)||void 0===a?void 0:a.substring(0,20),shortToAddress:null===(l=e.order)||void 0===l||null===(d=l.to)||void 0===d?void 0:d.substring(0,20),formattedTimestamp:new Date(1e3*e.timestamp).toLocaleString(),formattedSelling:g.toFixed(2),formattedWanting:f.toFixed(2),sellingTicker:h,wantingTicker:m}}})))||[];return{bids:e(F.bids),asks:e(F.asks)}}),[F]);(0,d.useEffect)((()=>{(async()=>{await Promise.all([$t(),Vt(),Nr()])})()}),[z]),(0,d.useEffect)((()=>{let e=null;return x&&(e=setInterval((()=>{u||$t()}),15e3)),()=>{e&&clearInterval(e)}}),[x,u]);const[Lt,Ht]=(0,d.useState)({balances:[],stakeInfo:null,accounts:[],tokens:[],transactions:[]}),[nr,or]=(0,d.useState)({from:"",to:"",amount:"",reference:"",expires:""}),[ir,sr]=(0,d.useState)({txid:""}),[ar,lr]=(0,d.useState)({name:"",supply:"",decimals:"2"}),[dr,cr]=(0,d.useState)({name:"",token:"NXS"}),[ur,pr]=(0,d.useState)({amount:"",expires:"0"}),[xr,gr]=(0,d.useState)({account:"",amount:"",reference:""}),[fr,hr]=(0,d.useState)({txid:""}),[mr,br]=(0,d.useState)({from:"",to:"",amount:"",reference:"",expires:""}),[yr,vr]=(0,d.useState)({tokenAddress:"",to:"",amount:"",reference:"",expires:""}),[Sr,jr]=(0,d.useState)(""),[kr,wr]=(0,d.useState)("overview"),Nr=async()=>{try{p(!0);const e=await NEXUS.utilities.apiCall("finance/get/balances");let t=null;try{t=await NEXUS.utilities.apiCall("finance/get/stakeinfo")}catch(e){console.log("Stake info not available:",e.message)}let r=[];try{r=await NEXUS.utilities.apiCall("finance/list/account")}catch(e){console.log("Primary account list failed:",e.message);try{r=await NEXUS.utilities.apiCall("finance/list/accounts")}catch(e){console.log("Alternative account list failed:",e.message)}}const n=await NEXUS.utilities.apiCall("finance/list/token");Ht({balances:e||[],stakeInfo:t,accounts:r||[],tokens:n||[],transactions:[]})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Refresh Wallet Data",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}},Cr=async()=>{if(mr.from&&mr.to&&mr.amount)try{p(!0);const e=e=>(e.includes(":")||e.includes("::")||e.length,e),t={from:e(mr.from.trim()),to:e(mr.to.trim()),amount:parseFloat(mr.amount)};mr.reference&&(t.reference=parseInt(mr.reference,10)),mr.expires&&(t.expires=parseInt(mr.expires,10));const r=await NEXUS.utilities.secureApiCall("finance/debit/account",t);NEXUS.utilities.showSuccessDialog({message:"Account Transfer Successful",note:`Transaction ID: ${r.txid}`}),br({from:"",to:"",amount:"",reference:"",expires:""}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Account Transfer Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Transfer Details",note:"Please fill in from account, to account, and amount"})},Er=async()=>{if(yr.tokenAddress&&yr.to&&yr.amount)try{p(!0);const e={from:yr.tokenAddress.trim(),to:yr.to.trim(),amount:parseFloat(yr.amount)};yr.reference&&(e.reference=parseInt(yr.reference,10)),yr.expires&&(e.expires=parseInt(yr.expires,10));const t=await NEXUS.utilities.secureApiCall("finance/debit/token",e);NEXUS.utilities.showSuccessDialog({message:"Token Transfer Successful",note:`Transaction ID: ${t.txid}`}),vr({tokenAddress:"",to:"",amount:"",reference:"",expires:""}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Token Transfer Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Token Transfer Details",note:"Please fill in token address, recipient account, and amount"})},Tr=async()=>{if(!ir.txid)return void NEXUS.utilities.showErrorDialog({message:"Missing Transaction ID",note:"Please enter the transaction ID to credit"});const e=ir.txid.trim();if(e.length<16||!/^[0-9a-fA-F]+$/.test(e))NEXUS.utilities.showErrorDialog({message:"Invalid Transaction ID Format",note:"Transaction ID must be a hexadecimal string (typically 64 characters, but other lengths are accepted)"});else try{p(!0);const t=await NEXUS.utilities.secureApiCall("finance/credit/token",{txid:e});NEXUS.utilities.showSuccessDialog({message:"Token Credit Successful",note:`Tokens credited successfully. Transaction ID: ${t.txid}`}),sr({txid:""}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Token Credit Failed",note:(null==e?void 0:e.message)||"Transaction not found, already credited, or not a valid token transaction. Verify the transaction ID corresponds to a token debit sent to your account."})}finally{p(!1)}},Ar=async()=>{if(!ir.txid)return void NEXUS.utilities.showErrorDialog({message:"Missing Transaction ID",note:"Please enter the transaction ID to credit"});const e=ir.txid.trim();if(e.length<16||!/^[0-9a-fA-F]+$/.test(e))NEXUS.utilities.showErrorDialog({message:"Invalid Transaction ID Format",note:"Transaction ID must be a hexadecimal string (typically 64 characters, but other lengths are accepted)"});else try{p(!0);const t=await NEXUS.utilities.secureApiCall("finance/credit/account",{txid:e});NEXUS.utilities.showSuccessDialog({message:"Account Credit Successful",note:`NXS credited successfully. Transaction ID: ${t.txid}`}),sr({txid:""}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Account Credit Failed",note:(null==e?void 0:e.message)||"Transaction not found, already credited, or not a valid NXS transaction. Verify the transaction ID corresponds to an NXS debit sent to your account."})}finally{p(!1)}},Or=async()=>{if(ar.name&&ar.supply)try{p(!0);const e=await NEXUS.utilities.secureApiCall("finance/create/token",{name:ar.name,supply:parseFloat(ar.supply),decimals:parseInt(ar.decimals,10)});NEXUS.utilities.showSuccessDialog({message:"Token Created Successfully",note:`Token Address: ${e.address}`}),lr({name:"",supply:"",decimals:"2"}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Token Creation Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Token Details",note:"Please fill in token name and supply"})},Rr=async()=>{if(dr.name)try{p(!0);const e=await NEXUS.utilities.secureApiCall("finance/create/account",{name:dr.name,token:dr.token});NEXUS.utilities.showSuccessDialog({message:"Account Created Successfully",note:`Account Address: ${e.address}`}),cr({name:"",token:"NXS"}),setTimeout((async()=>{await Nr()}),1e3)}catch(e){NEXUS.utilities.showErrorDialog({message:"Account Creation Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Account Name",note:"Please enter an account name"})},Dr=async()=>{if(ur.amount)try{p(!0);const e=await NEXUS.utilities.secureApiCall("finance/set/stake",{amount:parseFloat(ur.amount),expires:parseInt(ur.expires,10)});NEXUS.utilities.showSuccessDialog({message:"Stake Updated Successfully",note:`Transaction ID: ${e.txid}`}),pr({amount:"",expires:"0"}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Stake Update Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Stake Amount",note:"Please enter the desired stake amount"})},Br=async()=>{if(xr.account&&xr.amount)try{p(!0);const e={name:xr.account,amount:parseFloat(xr.amount)};xr.reference&&(e.reference=parseInt(xr.reference,10));const t=await NEXUS.utilities.secureApiCall("finance/burn/account",e);NEXUS.utilities.showSuccessDialog({message:"Tokens Burned Successfully",note:`Transaction ID: ${t.txid}`}),gr({account:"",amount:"",reference:""}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Token Burn Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}else NEXUS.utilities.showErrorDialog({message:"Missing Burn Details",note:"Please specify account and amount to burn"})},Fr=async()=>{if(fr.txid){if(await NEXUS.utilities.confirm({question:"Are you sure you want to void this transaction?",note:"This action cannot be undone and only works on unclaimed transactions."}))try{p(!0);const e=await NEXUS.utilities.secureApiCall("finance/void/transaction",{txid:fr.txid});NEXUS.utilities.showSuccessDialog({message:"Transaction Voided Successfully",note:`New Transaction Hash: ${e.hash}`}),hr({txid:""}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Transaction Void Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}}else NEXUS.utilities.showErrorDialog({message:"Missing Transaction ID",note:"Please enter the transaction ID to void"})},Xr=H.A.button((({active:e})=>({background:e?"linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)":"transparent",border:"1px solid rgba(139, 92, 246, 0.3)",color:e?"#ffffff":"#8b5cf6",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"all 0.3s ease",margin:"0 4px 8px 0","&:hover":{background:e?"linear-gradient(135deg, #a855f7 0%, #9333ea 100%)":"rgba(139, 92, 246, 0.1)",borderColor:"rgba(139, 92, 246, 0.5)"}})));return(0,Wt.jsxs)(Gt,{children:[(0,Wt.jsx)(qt,{children:[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"profile",label:"Profile Management",icon:"👤"},{id:"session",label:"Session Control",icon:"🔐"},{id:"marketplace",label:"Carbon Credits",icon:"🌱"},{id:"wallet",label:"Wallet",icon:"💰"}].map((e=>(0,Wt.jsxs)(Zt,{active:o===e.id,onClick:()=>c((e=>({type:P,payload:e}))(e.id)),children:[e.icon," ",e.label]},e.id)))}),(0,Wt.jsx)(Jt,{children:(()=>{switch(o){case"dashboard":default:return(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h2",{style:{color:"#8b5cf6",marginBottom:"16px"},children:"🌱 Carbon Credits Marketplace"}),(0,Wt.jsx)("p",{style:{color:"#8892b0",lineHeight:1.6},children:"Welcome to the decentralized carbon credits marketplace built on Nexus Protocol. Trade, verify, and track carbon credits with complete transparency and security."}),(0,Wt.jsxs)(rr,{children:[(0,Wt.jsxs)(Kt,{children:[J||(J=(0,Wt.jsx)("h3",{children:"Profile Status"})),(0,Wt.jsx)(tr,{status:a?"connected":"disconnected",children:a?"✅ Profile Loaded":"❌ No Profile"}),a&&(0,Wt.jsxs)("div",{style:{marginTop:"12px",fontSize:"14px",color:"#8892b0"},children:[(0,Wt.jsxs)("div",{children:["Genesis: ",null===(E=a.genesis)||void 0===E?void 0:E.substring(0,16),"..."]}),(0,Wt.jsxs)("div",{children:["Transactions: ",a.transactions]}),(0,Wt.jsxs)("div",{children:["Recovery: ",a.recovery?"✅":"❌"]})]})]}),(0,Wt.jsxs)(Kt,{children:[K||(K=(0,Wt.jsx)("h3",{children:"Session Status"})),(0,Wt.jsx)(tr,{status:l?"connected":"disconnected",children:l?"✅ Session Active":"❌ No Session"}),l&&(0,Wt.jsxs)("div",{style:{marginTop:"12px",fontSize:"14px",color:"#8892b0"},children:[(0,Wt.jsxs)("div",{children:["Transactions: ",null!==(X=l.unlocked)&&void 0!==X&&X.transactions?"✅":"❌"]}),(0,Wt.jsxs)("div",{children:["Notifications: ",null!==(I=l.unlocked)&&void 0!==I&&I.notifications?"✅":"❌"]}),(0,Wt.jsxs)("div",{children:["Last Access: ",new Date(1e3*l.accessed).toLocaleString()]})]})]})]})]})});case"profile":return(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h2",{style:{color:"#8b5cf6",marginBottom:"16px"},children:"👤 Profile Management"}),(0,Wt.jsxs)(C.nV,{legend:"Create New Profile",children:[(0,Wt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"24px"},children:[(0,Wt.jsx)(Qt,{placeholder:"Username (min 2 characters)",value:i.username,onChange:e=>c(G({username:e.target.value}))}),(0,Wt.jsx)(Qt,{type:"password",placeholder:"Password (min 8 characters)",value:i.password,onChange:e=>c(G({password:e.target.value}))}),(0,Wt.jsx)(Qt,{type:"password",placeholder:"PIN (min 4 characters)",value:i.pin,onChange:e=>c(G({pin:e.target.value}))})]}),(0,Wt.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,Wt.jsx)(er,{onClick:T,disabled:u,children:u?"Creating...":"Create Profile"}),e||(e=(0,Wt.jsx)(er,{variant:"secondary",onClick:A,disabled:u,children:"Get Profile Status"}))]})]}),a&&(0,Wt.jsxs)(Kt,{children:[Q||(Q=(0,Wt.jsx)("h3",{children:"Current Profile Information"})),(0,Wt.jsxs)("div",{style:{fontSize:"14px",color:"#8892b0"},children:[(0,Wt.jsxs)("div",{children:[ee||(ee=(0,Wt.jsx)("strong",{children:"Genesis Hash:"}))," ",a.genesis]}),(0,Wt.jsxs)("div",{children:[te||(te=(0,Wt.jsx)("strong",{children:"Confirmed:"}))," ",a.confirmed?"Yes":"No"]}),(0,Wt.jsxs)("div",{children:[re||(re=(0,Wt.jsx)("strong",{children:"Recovery Set:"}))," ",a.recovery?"Yes":"No"]}),(0,Wt.jsxs)("div",{children:[ne||(ne=(0,Wt.jsx)("strong",{children:"Crypto Object:"}))," ",a.crypto?"Yes":"No"]}),(0,Wt.jsxs)("div",{children:[oe||(oe=(0,Wt.jsx)("strong",{children:"Total Transactions:"}))," ",a.transactions]})]})]})]})});case"session":return(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h2",{style:{color:"#8b5cf6",marginBottom:"16px"},children:"🔐 Session Control"}),(0,Wt.jsxs)(C.nV,{legend:"Session Management",children:[(0,Wt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"24px"},children:[(0,Wt.jsx)(Qt,{placeholder:"Username",value:s.username,onChange:e=>c(q({username:e.target.value}))}),(0,Wt.jsx)(Qt,{type:"password",placeholder:"Password",value:s.password,onChange:e=>c(q({password:e.target.value}))}),(0,Wt.jsx)(Qt,{type:"password",placeholder:"PIN",value:s.pin,onChange:e=>c(q({pin:e.target.value}))})]}),(0,Wt.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,Wt.jsx)(er,{onClick:O,disabled:u,children:u?"Creating...":"Create Session"}),t||(t=(0,Wt.jsx)(er,{onClick:R,disabled:u,children:"Unlock Session"})),r||(r=(0,Wt.jsx)(er,{variant:"secondary",onClick:D,disabled:u,children:"Check Status"})),n||(n=(0,Wt.jsx)(er,{variant:"danger",onClick:B,disabled:u,children:"Terminate Session"}))]})]}),l&&(0,Wt.jsxs)(Kt,{children:[ie||(ie=(0,Wt.jsx)("h3",{children:"Session Information"})),(0,Wt.jsxs)("div",{style:{fontSize:"14px",color:"#8892b0"},children:[(0,Wt.jsxs)("div",{children:[se||(se=(0,Wt.jsx)("strong",{children:"Genesis:"}))," ",l.genesis]}),(0,Wt.jsxs)("div",{children:[ae||(ae=(0,Wt.jsx)("strong",{children:"Location:"}))," ",l.location]}),(0,Wt.jsxs)("div",{children:[le||(le=(0,Wt.jsx)("strong",{children:"Last Accessed:"}))," ",new Date(1e3*l.accessed).toLocaleString()]}),(0,Wt.jsx)("h4",{style:{color:"#00d4aa",marginTop:"16px"},children:"Unlock Status:"}),(0,Wt.jsxs)("div",{children:["Mining: ",null!==(Mr=l.unlocked)&&void 0!==Mr&&Mr.mining?"✅ Enabled":"❌ Disabled"]}),(0,Wt.jsxs)("div",{children:["Notifications: ",null!==(Wr=l.unlocked)&&void 0!==Wr&&Wr.notifications?"✅ Enabled":"❌ Disabled"]}),(0,Wt.jsxs)("div",{children:["Staking: ",null!==($r=l.unlocked)&&void 0!==$r&&$r.staking?"✅ Enabled":"❌ Disabled"]}),(0,Wt.jsxs)("div",{children:["Transactions: ",null!==(_r=l.unlocked)&&void 0!==_r&&_r.transactions?"✅ Enabled":"❌ Disabled"]})]})]})]})});case"marketplace":return(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h2",{style:{color:"#00d4aa",marginBottom:"16px"},children:"🌱 Carbon Credits Marketplace"}),(0,Wt.jsx)("p",{style:{color:"#8892b0",marginBottom:"24px"},children:"Trade verified carbon credits on the decentralized Nexus network using the Market API. Each CARBON token represents one metric ton of CO2 equivalent."}),(0,Wt.jsxs)(C.nV,{legend:"Market Overview",children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"16px"},children:[(0,Wt.jsx)(C.$n,{variant:"CARBON/NXS"===z?"primary":"secondary",onClick:()=>M("CARBON/NXS"),style:{background:"CARBON/NXS"===z?"linear-gradient(135deg, #00d4aa 0%, #4ade80 100%)":"linear-gradient(135deg, #374151 0%, #4b5563 100%)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"12px 16px",fontWeight:"500",transition:"all 0.2s ease",cursor:"pointer"},children:"CARBON/NXS Market"}),(0,Wt.jsx)(C.$n,{variant:"secondary",onClick:$t,disabled:u,style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"12px 16px",fontWeight:"500",transition:"all 0.2s ease",cursor:"pointer"},children:u?"Refreshing...":"🔄 Refresh Market"}),(0,Wt.jsx)(C.$n,{variant:"secondary",onClick:()=>g(!x),style:{background:x?"linear-gradient(135deg, #059669 0%, #10b981 100%)":"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"12px 16px",fontWeight:"500",transition:"all 0.2s ease",cursor:"pointer"},children:x?"⏸️ Auto-Refresh ON":"▶️ Auto-Refresh OFF"})]}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",padding:"16px",background:"linear-gradient(135deg, #1f2937 0%, #374151 100%)",borderRadius:"12px",border:"1px solid #4b5563"},children:[(0,Wt.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wt.jsx)("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Last Price"}),(0,Wt.jsxs)("div",{style:{fontSize:"18px",fontWeight:"600",color:"#00d4aa"},children:[h.lastPrice.toFixed(4)," NXS"]})]}),(0,Wt.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wt.jsx)("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"24h Volume"}),(0,Wt.jsxs)("div",{style:{fontSize:"18px",fontWeight:"600",color:"#8892b0"},children:[h.volume24h.toFixed(2)," CARBON"]})]}),(0,Wt.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wt.jsx)("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"24h High"}),(0,Wt.jsxs)("div",{style:{fontSize:"18px",fontWeight:"600",color:"#4ade80"},children:[h.highPrice.toFixed(4)," NXS"]})]}),(0,Wt.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wt.jsx)("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"24h Low"}),(0,Wt.jsxs)("div",{style:{fontSize:"18px",fontWeight:"600",color:"#f87171"},children:[h.lowPrice.toFixed(4)," NXS"]})]})]})]}),(0,Wt.jsxs)(C.nV,{legend:"Create Order",children:[(0,Wt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Wt.jsx)("label",{style:{color:"#8892b0",marginBottom:"12px",display:"block",fontSize:"16px",fontWeight:"500"},children:"Select Order Type"}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Wt.jsxs)("button",{onClick:()=>_({...$,type:"bid"}),style:{background:"bid"===$.type?"linear-gradient(135deg, #4ade80 0%, #059669 100%)":"linear-gradient(135deg, #374151 0%, #4b5563 100%)",border:"bid"===$.type?"2px solid #4ade80":"1px solid #6b7280",color:"#ffffff",padding:"16px",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"600",textAlign:"center",transition:"all 0.3s ease"},children:["🟢 BUY ORDER (Bid)",(0,Wt.jsx)("div",{style:{fontSize:"12px",marginTop:"4px",opacity:.8},children:"Buy CARBON with NXS"})]}),(0,Wt.jsxs)("button",{onClick:()=>_({...$,type:"ask"}),style:{background:"ask"===$.type?"linear-gradient(135deg, #f87171 0%, #dc2626 100%)":"linear-gradient(135deg, #374151 0%, #4b5563 100%)",border:"ask"===$.type?"2px solid #f87171":"1px solid #6b7280",color:"#ffffff",padding:"16px",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"600",textAlign:"center",transition:"all 0.3s ease"},children:["🔴 SELL ORDER (Ask)",(0,Wt.jsx)("div",{style:{fontSize:"12px",marginTop:"4px",opacity:.8},children:"Sell CARBON for NXS"})]})]})]}),(0,Wt.jsxs)("div",{style:{background:"bid"===$.type?"rgba(74, 222, 128, 0.1)":"rgba(248, 113, 113, 0.1)",border:"1px solid "+("bid"===$.type?"rgba(74, 222, 128, 0.3)":"rgba(248, 113, 113, 0.3)"),borderRadius:"12px",padding:"20px",marginBottom:"20px"},children:[(0,Wt.jsx)("h4",{style:{color:"bid"===$.type?"#4ade80":"#f87171",marginBottom:"16px",fontSize:"16px"},children:"bid"===$.type?"🟢 Buy Order Details":"🔴 Sell Order Details"}),(0,Wt.jsxs)("div",{style:{background:"rgba(26, 32, 44, 0.8)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"13px",color:"#8892b0"},children:[de||(de=(0,Wt.jsx)("strong",{children:"Order Flow:"})),ce||(ce=(0,Wt.jsx)("br",{})),"bid"===$.type?(0,Wt.jsxs)(Wt.Fragment,{children:["• You will ",(0,Wt.jsx)("strong",{style:{color:"#4ade80"},children:"spend NXS"})," from your NXS account",ue||(ue=(0,Wt.jsx)("br",{})),"• You will ",(0,Wt.jsx)("strong",{style:{color:"#4ade80"},children:"receive CARBON"})," tokens to your CARBON account",pe||(pe=(0,Wt.jsx)("br",{})),"• Price: How much NXS you pay per CARBON token"]}):(0,Wt.jsxs)(Wt.Fragment,{children:["• You will ",(0,Wt.jsx)("strong",{style:{color:"#f87171"},children:"spend CARBON"})," tokens from your CARBON account",xe||(xe=(0,Wt.jsx)("br",{})),"• You will ",(0,Wt.jsx)("strong",{style:{color:"#f87171"},children:"receive NXS"})," to your NXS account",ge||(ge=(0,Wt.jsx)("br",{})),"• Price: How much NXS you get per CARBON token"]})]}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"20px",marginBottom:"16px"},children:[(0,Wt.jsx)(Qt,{placeholder:"Amount of CARBON tokens to "+("bid"===$.type?"buy":"sell"),value:$.amount,onChange:e=>_({...$,amount:e.target.value})}),(0,Wt.jsx)(Qt,{placeholder:"Price (NXS per CARBON)",value:$.price,onChange:e=>_({...$,price:e.target.value})})]}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px",marginBottom:"16px"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("label",{style:{color:"bid"===$.type?"#4ade80":"#f87171",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"600"},children:[(0,Wt.jsx)("span",{children:"bid"===$.type?"🪙":"🌱"}),"bid"===$.type?"From: Your NXS Account":"From: Your CARBON Account",(0,Wt.jsx)("span",{style:{fontSize:"14px",fontWeight:"normal",color:"#8892b0"},children:"(paying account)"})]}),(0,Wt.jsx)(Qt,{placeholder:"bid"===$.type?"NXS account name/address":"CARBON token account name/address",value:$.from,onChange:e=>_({...$,from:e.target.value}),style:{marginBottom:"8px"}}),(0,Wt.jsxs)("select",{value:$.from,onChange:e=>_({...$,from:e.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)",background:"linear-gradient(135deg, rgba(26, 32, 44, 0.9) 0%, rgba(45, 55, 72, 0.8) 100%)",color:"#e2e8f0",fontSize:"14px",fontWeight:"400",marginBottom:"8px",cursor:"pointer"},children:[(0,Wt.jsx)("option",{value:"",style:{background:"#1a202c",color:"#e2e8f0"},children:"bid"===$.type?"🪙 Select your NXS account":"🌱 Select your CARBON account"}),null===(P=Lt.accounts)||void 0===P||null===(W=P.filter((e=>"bid"===$.type?!e.ticker||"NXS"===e.ticker:"CARBON"===e.ticker)))||void 0===W?void 0:W.map(((e,t)=>(0,Wt.jsxs)("option",{value:e.name||e.address,style:{background:"#1a202c",color:"#e2e8f0"},children:[e.ticker||"NXS"," - ",e.name||e.address.substring(0,20),"... - Balance: ",parseFloat(e.balance||0).toFixed(2)]},t)))]}),0===(null===(H=Lt.accounts)||void 0===H?void 0:H.length)&&(0,Wt.jsx)("div",{style:{fontSize:"12px",color:"#f87171",padding:"8px",background:"rgba(248, 113, 113, 0.1)",borderRadius:"6px",border:"1px solid rgba(248, 113, 113, 0.2)"},children:"⚠️ No accounts found. Please create accounts in the Wallet tab first."})]}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("label",{style:{color:"bid"===$.type?"#4ade80":"#f87171",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"600"},children:[(0,Wt.jsx)("span",{children:"bid"===$.type?"🌱":"🪙"}),"bid"===$.type?"To: Your CARBON Account":"To: Your NXS Account",(0,Wt.jsx)("span",{style:{fontSize:"14px",fontWeight:"normal",color:"#8892b0"},children:"(receiving account)"})]}),(0,Wt.jsx)(Qt,{placeholder:"bid"===$.type?"CARBON token account name/address":"NXS account name/address",value:$.to,onChange:e=>_({...$,to:e.target.value}),style:{marginBottom:"8px"}}),(0,Wt.jsxs)("select",{value:$.to,onChange:e=>_({...$,to:e.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)",background:"linear-gradient(135deg, rgba(26, 32, 44, 0.9) 0%, rgba(45, 55, 72, 0.8) 100%)",color:"#e2e8f0",fontSize:"14px",fontWeight:"400",marginBottom:"8px",cursor:"pointer"},children:[(0,Wt.jsx)("option",{value:"",style:{background:"#1a202c",color:"#e2e8f0"},children:"bid"===$.type?"🌱 Select your CARBON account":"🪙 Select your NXS account"}),null===(Z=Lt.accounts)||void 0===Z||null===(_t=Z.filter((e=>"bid"===$.type?"CARBON"===e.ticker:!e.ticker||"NXS"===e.ticker)))||void 0===_t?void 0:_t.map(((e,t)=>(0,Wt.jsxs)("option",{value:e.name||e.address,style:{background:"#1a202c",color:"#e2e8f0"},children:[e.ticker||"NXS"," - ",e.name||e.address.substring(0,20),"... - Balance: ",parseFloat(e.balance||0).toFixed(2)]},t)))]}),0===(null===(Vt=Lt.accounts)||void 0===Vt?void 0:Vt.length)&&(0,Wt.jsx)("div",{style:{fontSize:"12px",color:"#f87171",padding:"8px",background:"rgba(248, 113, 113, 0.1)",borderRadius:"6px",border:"1px solid rgba(248, 113, 113, 0.2)"},children:"⚠️ No accounts found. Please create accounts in the Wallet tab first."})]})]}),$.amount&&$.price&&(0,Wt.jsxs)("div",{style:{background:"rgba(26, 32, 44, 0.9)",padding:"16px",borderRadius:"8px",marginTop:"16px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Wt.jsx)("h5",{style:{color:"#8b5cf6",marginBottom:"12px"},children:"📋 Order Summary"}),(0,Wt.jsx)("div",{style:{fontSize:"14px",color:"#8892b0",lineHeight:"1.6"},children:"bid"===$.type?(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)("div",{children:["• You will ",(0,Wt.jsxs)("strong",{style:{color:"#4ade80"},children:["buy ",$.amount," CARBON"]})," tokens"]}),(0,Wt.jsxs)("div",{children:["• At ",(0,Wt.jsxs)("strong",{style:{color:"#4ade80"},children:[$.price," NXS per CARBON"]})]}),(0,Wt.jsxs)("div",{children:["• Total cost: ",(0,Wt.jsxs)("strong",{style:{color:"#fbbf24"},children:[(parseFloat($.amount||0)*parseFloat($.price||0)).toFixed(6)," NXS"]})]}),(0,Wt.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:["💸 Spending from: ",$.from||"Select NXS account",fe||(fe=(0,Wt.jsx)("br",{})),"💰 Receiving to: ",$.to||"Select CARBON account"]})]}):(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)("div",{children:["• You will ",(0,Wt.jsxs)("strong",{style:{color:"#f87171"},children:["sell ",$.amount," CARBON"]})," tokens"]}),(0,Wt.jsxs)("div",{children:["• At ",(0,Wt.jsxs)("strong",{style:{color:"#f87171"},children:[$.price," NXS per CARBON"]})]}),(0,Wt.jsxs)("div",{children:["• Total revenue: ",(0,Wt.jsxs)("strong",{style:{color:"#fbbf24"},children:[(parseFloat($.amount||0)*parseFloat($.price||0)).toFixed(6)," NXS"]})]}),(0,Wt.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:["💸 Sending from: ",$.from||"Select CARBON account",he||(he=(0,Wt.jsx)("br",{})),"💰 Receiving to: ",$.to||"Select NXS account"]})]})})]})]}),(0,Wt.jsx)(C.$n,{onClick:V,disabled:u||!$.amount||!$.price||!$.from||!$.to,style:{background:!u&&$.amount&&$.price&&$.from&&$.to?"bid"===$.type?"linear-gradient(135deg, #4ade80 0%, #059669 100%)":"linear-gradient(135deg, #f87171 0%, #dc2626 100%)":"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"#ffffff",border:"none",borderRadius:"12px",padding:"16px 32px",fontWeight:"600",fontSize:"16px",transition:"all 0.2s ease",cursor:!u&&$.amount&&$.price&&$.from&&$.to?"pointer":"not-allowed",width:"100%",marginTop:"16px"},children:u?"⏳ Creating Order...":"bid"===$.type?`🟢 Create Buy Order - Pay ${(parseFloat($.amount||0)*parseFloat($.price||0)).toFixed(6)} NXS`:`🔴 Create Sell Order - Receive ${(parseFloat($.amount||0)*parseFloat($.price||0)).toFixed(6)} NXS`})]}),(0,Wt.jsxs)(C.nV,{legend:"🌟 Active Market Orders - Simplified View",children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("h4",{style:{color:"#4ade80",marginBottom:"16px",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:["🟢 Buy Orders (",(null===(Gt=Yt.bids)||void 0===Gt?void 0:Gt.length)||0,")",(0,Wt.jsx)("span",{style:{fontSize:"12px",fontWeight:"normal",color:"#8892b0"},children:"(Buying CARBON with NXS)"})]}),(0,Wt.jsx)("div",{style:{background:"linear-gradient(135deg, rgba(74, 222, 128, 0.1) 0%, rgba(74, 222, 128, 0.05) 100%)",border:"1px solid rgba(74, 222, 128, 0.2)",borderRadius:"12px",padding:"16px",maxHeight:"500px",overflowY:"auto"},children:(null===(qt=Yt.bids)||void 0===qt?void 0:qt.length)>0?(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr auto",gap:"12px",padding:"8px 12px",borderBottom:"1px solid rgba(74, 222, 128, 0.3)",marginBottom:"12px",fontSize:"12px",fontWeight:"bold",color:"#4ade80"},children:[me||(me=(0,Wt.jsx)("div",{children:"💰 Price (NXS)"})),be||(be=(0,Wt.jsx)("div",{children:"🌱 Amount (CARBON)"})),ye||(ye=(0,Wt.jsx)("div",{children:"💵 Total (NXS)"})),ve||(ve=(0,Wt.jsx)("div",{children:"Action"}))]}),Yt.bids.slice(0,15).map(((e,t)=>(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr auto",gap:"12px",padding:"8px 12px",borderBottom:t<Math.min(14,Yt.bids.length-1)?"1px solid rgba(74, 222, 128, 0.1)":"none",fontSize:"13px",alignItems:"center",transition:"all 0.2s ease",borderRadius:"6px","&:hover":{background:"rgba(74, 222, 128, 0.1)"}},children:[(0,Wt.jsx)("div",{style:{color:"#4ade80",fontWeight:"600"},children:e.processedData.formattedPrice}),(0,Wt.jsx)("div",{style:{color:"#e2e8f0"},children:e.processedData.formattedSelling}),(0,Wt.jsx)("div",{style:{color:"#fbbf24",fontWeight:"500"},children:e.processedData.formattedTotalValue}),(0,Wt.jsx)("div",{children:(0,Wt.jsx)("button",{onClick:()=>{$.from&&$.to?Y(e.txid):NEXUS.utilities.showErrorDialog({message:"Set Account Details First",note:"To execute this BUY order:\n\n• Set FROM: Your CARBON account\n• Set TO: Your NXS account\n\nUse the order form above."})},style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#ffffff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"10px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"🎯 Sell"})})]},e.txid))),Yt.bids.length>15&&(0,Wt.jsxs)("div",{style:{textAlign:"center",marginTop:"12px",fontSize:"12px",color:"#8892b0"},children:["... and ",Yt.bids.length-15," more orders"]})]}):(0,Wt.jsx)("div",{style:{textAlign:"center",color:"#8892b0",padding:"40px 20px",fontSize:"14px"},children:"No buy orders available"})})]}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("h4",{style:{color:"#f87171",marginBottom:"16px",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:["🔴 Sell Orders (",(null===(Zt=Yt.asks)||void 0===Zt?void 0:Zt.length)||0,")",(0,Wt.jsx)("span",{style:{fontSize:"12px",fontWeight:"normal",color:"#8892b0"},children:"(Selling CARBON for NXS)"})]}),(0,Wt.jsx)("div",{style:{background:"linear-gradient(135deg, rgba(248, 113, 113, 0.1) 0%, rgba(248, 113, 113, 0.05) 100%)",border:"1px solid rgba(248, 113, 113, 0.2)",borderRadius:"12px",padding:"16px",maxHeight:"500px",overflowY:"auto"},children:(null===(Jt=Yt.asks)||void 0===Jt?void 0:Jt.length)>0?(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr auto",gap:"12px",padding:"8px 12px",borderBottom:"1px solid rgba(248, 113, 113, 0.3)",marginBottom:"12px",fontSize:"12px",fontWeight:"bold",color:"#f87171"},children:[Se||(Se=(0,Wt.jsx)("div",{children:"💰 Price (NXS)"})),je||(je=(0,Wt.jsx)("div",{children:"🌱 Amount (CARBON)"})),ke||(ke=(0,Wt.jsx)("div",{children:"💵 Total (NXS)"})),we||(we=(0,Wt.jsx)("div",{children:"Action"}))]}),Yt.asks.slice(0,15).map(((e,t)=>(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr auto",gap:"12px",padding:"8px 12px",borderBottom:t<Math.min(14,Yt.asks.length-1)?"1px solid rgba(248, 113, 113, 0.1)":"none",fontSize:"13px",alignItems:"center",transition:"all 0.2s ease",borderRadius:"6px","&:hover":{background:"rgba(248, 113, 113, 0.1)"}},children:[(0,Wt.jsx)("div",{style:{color:"#f87171",fontWeight:"600"},children:e.processedData.formattedPrice}),(0,Wt.jsx)("div",{style:{color:"#e2e8f0"},children:e.processedData.formattedSelling}),(0,Wt.jsx)("div",{style:{color:"#fbbf24",fontWeight:"500"},children:e.processedData.formattedTotalValue}),(0,Wt.jsx)("div",{children:(0,Wt.jsx)("button",{onClick:()=>{$.from&&$.to?Y(e.txid):NEXUS.utilities.showErrorDialog({message:"Set Account Details First",note:"To execute this SELL order:\n\n• Set FROM: Your NXS account\n• Set TO: Your CARBON account\n\nUse the order form above."})},style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#ffffff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"10px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"🎯 Buy"})})]},e.txid))),Yt.asks.length>15&&(0,Wt.jsxs)("div",{style:{textAlign:"center",marginTop:"12px",fontSize:"12px",color:"#8892b0"},children:["... and ",Yt.asks.length-15," more orders"]})]}):(0,Wt.jsx)("div",{style:{textAlign:"center",color:"#8892b0",padding:"40px 20px",fontSize:"14px"},children:"No sell orders available"})})]})]}),(0,Wt.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"8px",padding:"12px",fontSize:"12px",color:"#a5b4fc"},children:[(0,Wt.jsx)("strong",{style:{color:"#8b5cf6"},children:"💡 Quick Trading Guide:"}),Ne||(Ne=(0,Wt.jsx)("br",{})),'1. Set your account details in the "Create Order" section above',Ce||(Ce=(0,Wt.jsx)("br",{})),'2. Click "🎯 Sell" to sell CARBON tokens to a buyer, or "🎯 Buy" to buy CARBON tokens from a seller',Ee||(Ee=(0,Wt.jsx)("br",{})),"3. The order will execute automatically when you have the required tokens/NXS"]})]}),(0,Wt.jsx)(C.nV,{legend:"📋 Detailed Market Orders",children:(0,Wt.jsxs)(rr,{children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsxs)("h4",{style:{color:"#4ade80",marginBottom:"16px"},children:["🟢 Buy Orders (Bids) (",(null===(nr=Yt.bids)||void 0===nr?void 0:nr.length)||0,")"]}),(0,Wt.jsxs)("div",{style:{marginBottom:"12px",padding:"8px",background:"rgba(74, 222, 128, 0.1)",borderRadius:"6px",fontSize:"12px",color:"#4ade80",border:"1px solid rgba(74, 222, 128, 0.3)"},children:[Te||(Te=(0,Wt.jsx)("strong",{children:"💡 Buy Orders:"}))," Users wanting to ",Ae||(Ae=(0,Wt.jsx)("strong",{children:"buy CARBON with NXS"}))]}),(0,Wt.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",padding:"4px",margin:"-4px"},children:(null===(or=Yt.bids)||void 0===or?void 0:or.length)>0?(0,Wt.jsxs)(Wt.Fragment,{children:[Yt.bids.slice(5*v,5*(v+1)).map((e=>(0,Wt.jsxs)("div",{style:{background:"rgba(75, 222, 128, 0.1)",border:"1px solid rgba(75, 222, 128, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"8px"},children:[(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("span",{style:{fontWeight:"600",color:"#4ade80",fontSize:"16px"},children:["💰 ",e.processedData.formattedPrice," NXS per CARBON"]}),(0,Wt.jsxs)("div",{style:{fontSize:"11px",color:"#8892b0",marginTop:"2px"},children:["Order ID: ",e.processedData.shortTxid,"..."]})]}),(0,Wt.jsxs)("div",{style:{textAlign:"right"},children:[(0,Wt.jsxs)("div",{style:{fontSize:"13px",color:"#4ade80",fontWeight:"500"},children:["Buying: ",e.processedData.formattedSelling," CARBON"]}),(0,Wt.jsxs)("div",{style:{fontSize:"11px",color:"#8892b0"},children:["Total: ",e.processedData.formattedTotalValue," NXS"]})]})]}),(0,Wt.jsxs)("div",{style:{background:"rgba(26, 32, 44, 0.8)",padding:"8px",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"},children:[(0,Wt.jsx)("div",{style:{color:"#8892b0",marginBottom:"4px"},children:Oe||(Oe=(0,Wt.jsx)("strong",{children:"💸 Buyer's Flow:"}))}),(0,Wt.jsxs)("div",{style:{color:"#f87171",marginBottom:"2px"},children:["• Paying from: ",e.processedData.sellingTicker," account (",e.processedData.shortFromAddress,"...)"]}),(0,Wt.jsxs)("div",{style:{color:"#4ade80"},children:["• Receiving to: CARBON account (",e.processedData.shortToAddress,"...)"]})]}),(0,Wt.jsxs)("div",{style:{background:"rgba(139, 92, 246, 0.1)",padding:"8px",borderRadius:"6px",marginBottom:"8px",border:"1px solid rgba(139, 92, 246, 0.3)"},children:[(0,Wt.jsx)("div",{style:{color:"#8b5cf6",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"🎯 To Execute This Order (as seller):"}),(0,Wt.jsxs)("div",{style:{fontSize:"11px",color:"#a5b4fc"},children:["• You need: ",e.processedData.formattedSelling," CARBON tokens",Re||(Re=(0,Wt.jsx)("br",{})),"• You'll receive: ",e.processedData.formattedWanting," ",e.processedData.wantingTicker,De||(De=(0,Wt.jsx)("br",{})),"• Set your FROM account: Your CARBON token account",Be||(Be=(0,Wt.jsx)("br",{})),"• Set your TO account: Your ",e.processedData.wantingTicker," account"]})]}),(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wt.jsx)("div",{style:{fontSize:"10px",color:"#6b7280"},children:e.processedData.formattedTimestamp}),(0,Wt.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Wt.jsx)(C.$n,{onClick:()=>{$.from&&$.to?Y(e.txid):NEXUS.utilities.showErrorDialog({message:"Missing Account Details",note:"To execute this BUY order as a seller:\n\n• Set FROM: Your CARBON token account\n• Set TO: Your NXS account\n\nThen specify these accounts in the order form above."})},style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"11px",fontWeight:"500"},children:"🎯 Sell to This Buyer"}),e.owner===(null==l?void 0:l.genesis)&&(0,Wt.jsx)(C.$n,{onClick:()=>L(e.txid),style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"11px",fontWeight:"500"},children:"🗑️ Cancel My Order"})]})]})]},e.txid))),F.bids.length>5&&(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"16px",padding:"8px"},children:[(0,Wt.jsx)(C.$n,{onClick:()=>S(Math.max(0,v-1)),disabled:0===v,style:{background:0===v?"#374151":"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",color:"#ffffff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px"},children:"← Prev"}),(0,Wt.jsxs)("span",{style:{color:"#8892b0",fontSize:"12px"},children:["Page ",v+1," of ",Math.ceil(F.bids.length/5)]}),(0,Wt.jsx)(C.$n,{onClick:()=>S(Math.min(Math.ceil(F.bids.length/5)-1,v+1)),disabled:v>=Math.ceil(F.bids.length/5)-1,style:{background:v>=Math.ceil(F.bids.length/5)-1?"#374151":"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",color:"#ffffff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px"},children:"Next →"})]})]}):(0,Wt.jsx)("div",{style:{color:"#8892b0",textAlign:"center",padding:"20px"},children:"No buy orders available"})})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsxs)("h4",{style:{color:"#f87171",marginBottom:"16px"},children:["🔴 Sell Orders (Asks) (",(null===(Ur=Yt.asks)||void 0===Ur?void 0:Ur.length)||0,")"]}),(0,Wt.jsxs)("div",{style:{marginBottom:"12px",padding:"8px",background:"rgba(248, 113, 113, 0.1)",borderRadius:"6px",fontSize:"12px",color:"#f87171",border:"1px solid rgba(248, 113, 113, 0.3)"},children:[Fe||(Fe=(0,Wt.jsx)("strong",{children:"💡 Sell Orders:"}))," Users wanting to ",Xe||(Xe=(0,Wt.jsx)("strong",{children:"sell CARBON for NXS"}))]}),(0,Wt.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",padding:"4px",margin:"-4px"},children:(null===(Ir=Yt.asks)||void 0===Ir?void 0:Ir.length)>0?(0,Wt.jsxs)(Wt.Fragment,{children:[Yt.asks.slice(5*j,5*(j+1)).map((e=>(0,Wt.jsxs)("div",{style:{background:"rgba(248, 113, 113, 0.1)",border:"1px solid rgba(248, 113, 113, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"8px"},children:[(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("span",{style:{fontWeight:"600",color:"#f87171",fontSize:"16px"},children:["💰 ",e.processedData.formattedPrice," NXS per CARBON"]}),(0,Wt.jsxs)("div",{style:{fontSize:"11px",color:"#8892b0",marginTop:"2px"},children:["Order ID: ",e.processedData.shortTxid,"..."]})]}),(0,Wt.jsxs)("div",{style:{textAlign:"right"},children:[(0,Wt.jsxs)("div",{style:{fontSize:"13px",color:"#f87171",fontWeight:"500"},children:["Selling: ",e.processedData.formattedSelling," CARBON"]}),(0,Wt.jsxs)("div",{style:{fontSize:"11px",color:"#8892b0"},children:["For: ",e.processedData.formattedTotalValue," NXS"]})]})]}),(0,Wt.jsxs)("div",{style:{background:"rgba(26, 32, 44, 0.8)",padding:"8px",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"},children:[(0,Wt.jsx)("div",{style:{color:"#8892b0",marginBottom:"4px"},children:Ue||(Ue=(0,Wt.jsx)("strong",{children:"💸 Seller's Flow:"}))}),(0,Wt.jsxs)("div",{style:{color:"#f87171",marginBottom:"2px"},children:["• Sending from: CARBON account (",e.processedData.shortFromAddress,"...)"]}),(0,Wt.jsxs)("div",{style:{color:"#4ade80"},children:["• Receiving to: NXS account (",e.processedData.shortToAddress,"...)"]})]}),(0,Wt.jsxs)("div",{style:{background:"rgba(139, 92, 246, 0.1)",padding:"8px",borderRadius:"6px",marginBottom:"8px",border:"1px solid rgba(139, 92, 246, 0.3)"},children:[(0,Wt.jsx)("div",{style:{color:"#8b5cf6",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"🎯 To Execute This Order (as buyer):"}),(0,Wt.jsxs)("div",{style:{fontSize:"11px",color:"#a5b4fc"},children:["• You need: ",e.processedData.formattedWanting," ",e.processedData.wantingTicker,Ie||(Ie=(0,Wt.jsx)("br",{})),"• You'll receive: ",e.processedData.formattedSelling," CARBON tokens",Pe||(Pe=(0,Wt.jsx)("br",{})),"• Set your FROM account: Your ",e.processedData.wantingTicker," account",ze||(ze=(0,Wt.jsx)("br",{})),"• Set your TO account: Your CARBON token account"]})]}),(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wt.jsx)("div",{style:{fontSize:"10px",color:"#6b7280"},children:e.processedData.formattedTimestamp}),(0,Wt.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Wt.jsx)(C.$n,{onClick:()=>{$.from&&$.to?Y(e.txid):NEXUS.utilities.showErrorDialog({message:"Missing Account Details",note:"To execute this SELL order as a buyer:\n\n• Set FROM: Your NXS account\n• Set TO: Your CARBON token account\n\nThen specify these accounts in the order form above."})},style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"11px",fontWeight:"500"},children:"🎯 Buy from This Seller"}),e.owner===(null==l?void 0:l.genesis)&&(0,Wt.jsx)(C.$n,{onClick:()=>L(e.txid),style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"11px",fontWeight:"500"},children:"🗑️ Cancel My Order"})]})]})]},e.txid))),F.asks.length>5&&(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"16px",padding:"8px"},children:[(0,Wt.jsx)(C.$n,{onClick:()=>w(Math.max(0,j-1)),disabled:0===j,style:{background:0===j?"#374151":"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",color:"#ffffff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px"},children:"← Prev"}),(0,Wt.jsxs)("span",{style:{color:"#8892b0",fontSize:"12px"},children:["Page ",j+1," of ",Math.ceil(F.asks.length/5)]}),(0,Wt.jsx)(C.$n,{onClick:()=>w(Math.min(Math.ceil(F.asks.length/5)-1,j+1)),disabled:j>=Math.ceil(F.asks.length/5)-1,style:{background:j>=Math.ceil(F.asks.length/5)-1?"#374151":"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",color:"#ffffff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px"},children:"Next →"})]})]}):(0,Wt.jsx)("div",{style:{color:"#8892b0",textAlign:"center",padding:"20px"},children:"No sell orders available"})})]})]})}),(0,Wt.jsxs)(C.nV,{legend:"My Trading Activity",children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h4",{style:{color:"#4ade80",marginBottom:"16px"},children:"📈 My Buy Orders"}),(0,Wt.jsx)("div",{style:{maxHeight:"250px",overflowY:"auto",overflowX:"hidden",padding:"4px",margin:"-4px"},children:(null===(Pr=U.bids)||void 0===Pr?void 0:Pr.length)>0?U.bids.map(((e,t)=>{var r,n;return(0,Wt.jsxs)("div",{style:{padding:"12px",border:"1px solid #374151",borderRadius:"8px",marginBottom:"8px",background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)"},children:[(0,Wt.jsxs)("div",{style:{fontSize:"13px",color:"#8892b0",marginBottom:"8px"},children:[(0,Wt.jsxs)("div",{children:[Me||(Me=(0,Wt.jsx)("strong",{children:"Price:"}))," ",e.price," NXS"]}),(0,Wt.jsxs)("div",{children:[We||(We=(0,Wt.jsx)("strong",{children:"Amount:"}))," ",(null===(r=e.contract)||void 0===r?void 0:r.amount)||"N/A"," CARBON"]}),(0,Wt.jsxs)("div",{children:[$e||($e=(0,Wt.jsx)("strong",{children:"Total:"}))," ",(e.price*((null===(n=e.contract)||void 0===n?void 0:n.amount)||0)).toFixed(4)," NXS"]}),(0,Wt.jsx)("div",{style:{fontSize:"11px",color:"#6b7280"},children:new Date(1e3*e.timestamp).toLocaleString()})]}),(0,Wt.jsx)(C.$n,{onClick:()=>L(e.txid),style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"12px",fontWeight:"500"},children:"🗑️ Cancel Order"})]},e.txid)})):(0,Wt.jsx)("p",{style:{color:"#6b7280",fontSize:"14px",textAlign:"center",padding:"20px"},children:"No active buy orders"})})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h4",{style:{color:"#f87171",marginBottom:"16px"},children:"📉 My Sell Orders"}),(0,Wt.jsx)("div",{style:{maxHeight:"250px",overflowY:"auto",overflowX:"hidden",padding:"4px",margin:"-4px"},children:(null===(zr=U.asks)||void 0===zr?void 0:zr.length)>0?U.asks.map(((e,t)=>{var r,n;return(0,Wt.jsxs)("div",{style:{padding:"12px",border:"1px solid #374151",borderRadius:"8px",marginBottom:"8px",background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)"},children:[(0,Wt.jsxs)("div",{style:{fontSize:"13px",color:"#8892b0",marginBottom:"8px"},children:[(0,Wt.jsxs)("div",{children:[_e||(_e=(0,Wt.jsx)("strong",{children:"Price:"}))," ",e.price," NXS"]}),(0,Wt.jsxs)("div",{children:[Ve||(Ve=(0,Wt.jsx)("strong",{children:"Amount:"}))," ",(null===(r=e.contract)||void 0===r?void 0:r.amount)||"N/A"," CARBON"]}),(0,Wt.jsxs)("div",{children:[Ye||(Ye=(0,Wt.jsx)("strong",{children:"Total:"}))," ",(e.price*((null===(n=e.contract)||void 0===n?void 0:n.amount)||0)).toFixed(4)," NXS"]}),(0,Wt.jsx)("div",{style:{fontSize:"11px",color:"#6b7280"},children:new Date(1e3*e.timestamp).toLocaleString()})]}),(0,Wt.jsx)(C.$n,{onClick:()=>L(e.txid),style:{background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"12px",fontWeight:"500"},children:"🗑️ Cancel Order"})]},e.txid)})):(0,Wt.jsx)("p",{style:{color:"#6b7280",fontSize:"14px",textAlign:"center",padding:"20px"},children:"No active sell orders"})})]})]}),(0,Wt.jsxs)(Kt,{style:{marginTop:"16px"},children:[(0,Wt.jsx)("h4",{style:{color:"#8b5cf6",marginBottom:"16px"},children:"📊 Recent Trade History"}),(0,Wt.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",overflowX:"hidden",padding:"4px",margin:"-4px"},children:(null==b?void 0:b.length)>0?b.slice(0,10).map(((e,t)=>{var r;return(0,Wt.jsxs)("div",{style:{padding:"8px 12px",borderBottom:"1px solid #374151",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wt.jsxs)("div",{style:{fontSize:"13px",color:"#8892b0"},children:[(0,Wt.jsx)("span",{style:{color:"bid"===e.type?"#4ade80":"#f87171"},children:"bid"===e.type?"📈 BUY":"📉 SELL"}),(0,Wt.jsxs)("span",{style:{marginLeft:"8px"},children:[e.price," NXS"]})]}),(0,Wt.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:[(null===(r=e.contract)||void 0===r?void 0:r.amount)||"N/A"," CARBON"]})]},e.txid||t)})):(0,Wt.jsx)("p",{style:{color:"#6b7280",fontSize:"14px",textAlign:"center",padding:"20px"},children:"No recent trades"})})]})]})]})});case"wallet":return(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsxs)("h2",{style:{color:"#8b5cf6",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},children:["💰 Finance API - Comprehensive Wallet Management",(0,Wt.jsx)(er,{variant:"secondary",onClick:Nr,disabled:u,style:{fontSize:"12px",padding:"8px 16px",minWidth:"auto"},children:u?"🔄 Refreshing...":"🔄 Refresh"})]}),(0,Wt.jsxs)("div",{style:{marginBottom:"24px",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",paddingBottom:"16px"},children:[(0,Wt.jsx)(Xr,{active:"overview"===kr,onClick:()=>wr("overview"),children:"📊 Overview"}),(0,Wt.jsx)(Xr,{active:"transactions"===kr,onClick:()=>wr("transactions"),children:"💸 Transactions"}),(0,Wt.jsx)(Xr,{active:"accounts"===kr,onClick:()=>wr("accounts"),children:"📁 Accounts"}),(0,Wt.jsx)(Xr,{active:"tokens"===kr,onClick:()=>wr("tokens"),children:"🪙 Tokens"}),(0,Wt.jsx)(Xr,{active:"staking"===kr,onClick:()=>wr("staking"),children:"🥩 Staking"}),(0,Wt.jsx)(Xr,{active:"advanced"===kr,onClick:()=>wr("advanced"),children:"⚙️ Advanced"})]}),"overview"===kr&&(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(rr,{children:[(null===(d=Lt.balances)||void 0===d?void 0:d.length)>0?Lt.balances.map(((e,t)=>(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,Wt.jsxs)("h3",{style:{color:"#8b5cf6",margin:0},children:["💳 ",e.ticker||"Unknown"]}),(0,Wt.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#00d4aa"},children:parseFloat(e.available||0).toFixed(e.decimals||6)})]}),(0,Wt.jsxs)("div",{style:{fontSize:"14px",color:"#8892b0",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[(0,Wt.jsxs)("div",{children:[Le||(Le=(0,Wt.jsx)("strong",{children:"Available:"}))," ",parseFloat(e.available||0).toFixed(e.decimals||6)]}),(0,Wt.jsxs)("div",{children:[He||(He=(0,Wt.jsx)("strong",{children:"Unclaimed:"}))," ",parseFloat(e.unclaimed||0).toFixed(e.decimals||6)]}),(0,Wt.jsxs)("div",{children:[Ge||(Ge=(0,Wt.jsx)("strong",{children:"Unconfirmed:"}))," ",parseFloat(e.unconfirmed||0).toFixed(e.decimals||6)]}),(0,Wt.jsxs)("div",{children:[qe||(qe=(0,Wt.jsx)("strong",{children:"Pending:"}))," ",parseFloat(e.pending||0).toFixed(e.decimals||6)]}),e.stake&&(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)("div",{children:[Ze||(Ze=(0,Wt.jsx)("strong",{children:"Staked:"}))," ",parseFloat(e.stake||0).toFixed(e.decimals||6)]}),(0,Wt.jsxs)("div",{children:[Je||(Je=(0,Wt.jsx)("strong",{children:"Immature:"}))," ",parseFloat(e.immature||0).toFixed(e.decimals||6)]})]})]})]},t))):(0,Wt.jsx)(Kt,{children:(0,Wt.jsx)("p",{style:{color:"#6b7280",textAlign:"center",margin:0},children:"No balance information available. Try refreshing or creating an account."})}),Lt.stakeInfo&&(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#f59e0b",marginBottom:"16px"},children:"🥩 Staking Status"}),(0,Wt.jsxs)("div",{style:{fontSize:"14px",color:"#8892b0",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[(0,Wt.jsxs)("div",{children:[Ke||(Ke=(0,Wt.jsx)("strong",{children:"Balance:"}))," ",parseFloat(Lt.stakeInfo.balance||0).toFixed(6)," NXS"]}),(0,Wt.jsxs)("div",{children:[Qe||(Qe=(0,Wt.jsx)("strong",{children:"Staked:"}))," ",parseFloat(Lt.stakeInfo.stake||0).toFixed(6)," NXS"]}),(0,Wt.jsxs)("div",{children:[et||(et=(0,Wt.jsx)("strong",{children:"Trust Score:"}))," ",Lt.stakeInfo.trust||0]}),(0,Wt.jsxs)("div",{children:[tt||(tt=(0,Wt.jsx)("strong",{children:"Stake Rate:"}))," ",parseFloat(Lt.stakeInfo.stakerate||0).toFixed(2),"%"]}),(0,Wt.jsxs)("div",{children:[rt||(rt=(0,Wt.jsx)("strong",{children:"Trust Weight:"}))," ",parseFloat(Lt.stakeInfo.trustweight||0).toFixed(2),"%"]}),(0,Wt.jsxs)("div",{children:[nt||(nt=(0,Wt.jsx)("strong",{children:"Block Weight:"}))," ",parseFloat(Lt.stakeInfo.blockweight||0).toFixed(2),"%"]}),(0,Wt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Wt.jsx)(tr,{status:Lt.stakeInfo.staking?"connected":"disconnected",children:Lt.stakeInfo.staking?"✅ Staking Active":"❌ Staking Inactive"}),Lt.stakeInfo.onhold&&(0,Wt.jsx)(tr,{status:"disconnected",style:{marginLeft:"8px"},children:"⏳ On Hold"})]})]})]})]})}),"transactions"===kr&&(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#3b82f6"},children:"🏦 Account to Account Transfer"}),(0,Wt.jsxs)(C.nV,{legend:"finance/debit/account - Transfer between accounts",children:[(0,Wt.jsxs)("div",{style:{marginBottom:"12px",padding:"8px",background:"#1f2937",borderRadius:"6px",fontSize:"12px",color:"#8892b0"},children:[ot||(ot=(0,Wt.jsx)("strong",{children:"Account Name Formats:"})),it||(it=(0,Wt.jsx)("br",{})),"• Local: ",st||(st=(0,Wt.jsx)("code",{children:"myaccount"})),at||(at=(0,Wt.jsx)("br",{})),"• User-scoped: ",lt||(lt=(0,Wt.jsx)("code",{children:"username:accountname"})),dt||(dt=(0,Wt.jsx)("br",{})),"• Namespace: ",ct||(ct=(0,Wt.jsx)("code",{children:"namespace::accountname"})),ut||(ut=(0,Wt.jsx)("br",{})),"• Register Address: ",pt||(pt=(0,Wt.jsx)("code",{children:"8ABC...51chars"}))]}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"12px",marginBottom:"12px"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)(Qt,{placeholder:"From Account (name or address)",value:mr.from,onChange:e=>br((t=>({...t,from:e.target.value})))}),(0,Wt.jsxs)("select",{value:mr.from,onChange:e=>br((t=>({...t,from:e.target.value}))),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #374151",background:"#1f2937",color:"#ffffff",fontSize:"13px",marginBottom:"12px"},children:[xt||(xt=(0,Wt.jsx)("option",{value:"",children:"Select Account"})),null===(f=Lt.accounts)||void 0===f?void 0:f.map(((e,t)=>(0,Wt.jsxs)("option",{value:e.name||e.address,children:[e.ticker," - ",parseFloat(e.balance||0).toFixed(2)]},t)))]})]}),(0,Wt.jsx)(Qt,{placeholder:"To Account (name or address)",value:mr.to,onChange:e=>br((t=>({...t,to:e.target.value})))}),(0,Wt.jsx)(Qt,{type:"number",step:"any",placeholder:"Amount",value:mr.amount,onChange:e=>br((t=>({...t,amount:e.target.value})))})]}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"12px",marginBottom:"12px"},children:[(0,Wt.jsx)(Qt,{placeholder:"Reference (optional integer)",value:mr.reference,onChange:e=>br((t=>({...t,reference:e.target.value})))}),(0,Wt.jsx)(Qt,{placeholder:"Expires (seconds, 0 = never, default = 604800)",value:mr.expires,onChange:e=>br((t=>({...t,expires:e.target.value})))})]}),(0,Wt.jsx)(er,{onClick:Cr,disabled:u,children:u?"Processing...":"🏦 Transfer from Account"})]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#8b5cf6"},children:"🪙 Token to Account Transfer"}),(0,Wt.jsxs)(C.nV,{legend:"finance/debit/token - Transfer from token address to account",children:[(0,Wt.jsxs)("div",{style:{marginBottom:"12px",padding:"8px",background:"#1f2937",borderRadius:"6px",fontSize:"12px",color:"#8892b0"},children:[gt||(gt=(0,Wt.jsx)("strong",{children:"Note:"})),' This transfers tokens from a token address (token issuer) to an account. Use the token\'s register address as the "from" field.']}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"12px",marginBottom:"12px"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)(Qt,{placeholder:"Token Address (register address)",value:yr.tokenAddress,onChange:e=>vr((t=>({...t,tokenAddress:e.target.value})))}),(0,Wt.jsxs)("select",{value:yr.tokenAddress,onChange:e=>vr((t=>({...t,tokenAddress:e.target.value}))),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #374151",background:"#1f2937",color:"#ffffff",fontSize:"13px",marginBottom:"12px"},children:[ft||(ft=(0,Wt.jsx)("option",{value:"",children:"Select Token"})),null===(m=Lt.tokens)||void 0===m?void 0:m.map(((e,t)=>(0,Wt.jsxs)("option",{value:e.address,children:[e.ticker," - ",parseFloat(e.currentsupply||0).toFixed(2)," / ",parseFloat(e.maxsupply||0).toFixed(2)]},t)))]})]}),(0,Wt.jsx)(Qt,{placeholder:"To Account (recipient account name or address)",value:yr.to,onChange:e=>vr((t=>({...t,to:e.target.value})))}),(0,Wt.jsx)(Qt,{type:"number",step:"any",placeholder:"Amount",value:yr.amount,onChange:e=>vr((t=>({...t,amount:e.target.value})))})]}),(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"12px",marginBottom:"12px"},children:[(0,Wt.jsx)(Qt,{placeholder:"Reference (optional integer)",value:yr.reference,onChange:e=>vr((t=>({...t,reference:e.target.value})))}),(0,Wt.jsx)(Qt,{placeholder:"Expires (seconds, 0 = never, default = 604800)",value:yr.expires,onChange:e=>vr((t=>({...t,expires:e.target.value})))})]}),(0,Wt.jsx)(er,{onClick:Er,disabled:u,children:u?"Processing...":"🪙 Transfer from Token"})]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#10b981"},children:"💳 Credit (Receive) Transactions"}),(0,Wt.jsxs)(C.nV,{legend:"finance/credit/token - Credit token transactions",children:[(0,Wt.jsxs)("div",{style:{marginBottom:"12px",padding:"8px",background:"#1f2937",borderRadius:"6px",fontSize:"12px",color:"#8892b0"},children:[ht||(ht=(0,Wt.jsx)("strong",{children:"Purpose:"}))," Increment an amount of tokens received from a token account. Use this for token debit transactions sent to your account."]}),(0,Wt.jsx)(Qt,{placeholder:"Transaction ID (txid) for token transaction",value:ir.txid,onChange:e=>sr((t=>({...t,txid:e.target.value})))}),(0,Wt.jsx)(er,{onClick:Tr,disabled:u,style:{marginBottom:"16px"},children:u?"Processing...":"🪙 Credit Token Transaction"})]}),(0,Wt.jsxs)(C.nV,{legend:"finance/credit/account - Credit NXS transactions",children:[(0,Wt.jsxs)("div",{style:{marginBottom:"12px",padding:"8px",background:"#1f2937",borderRadius:"6px",fontSize:"12px",color:"#8892b0"},children:[mt||(mt=(0,Wt.jsx)("strong",{children:"Purpose:"}))," Increment an amount received from an NXS account. Use this for NXS debit transactions sent to your account."]}),(0,Wt.jsx)(Qt,{placeholder:"Transaction ID (txid) for NXS transaction",value:ir.txid,onChange:e=>sr((t=>({...t,txid:e.target.value})))}),(0,Wt.jsx)(er,{onClick:Ar,disabled:u,children:u?"Processing...":"🏦 Credit NXS Transaction"})]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#8b5cf6"},children:"📋 Recent Transactions"}),(0,Wt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Wt.jsx)(Qt,{placeholder:"Account name to load transactions",value:Sr,onChange:e=>jr(e.target.value),style:{marginRight:"12px",display:"inline-block",width:"auto"}}),(0,Wt.jsx)(er,{variant:"secondary",onClick:()=>(async e=>{try{const t=await NEXUS.utilities.apiCall("finance/transactions/account",{name:e,verbose:"summary"});Ht((e=>({...e,transactions:t||[]}))),NEXUS.utilities.showSuccessDialog({message:"Transactions Loaded",note:`Found ${(null==t?void 0:t.length)||0} transactions`})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Get Account Transactions",note:(null==e?void 0:e.message)||"Unknown error occurred"})}})(Sr),disabled:!Sr||u,style:{display:"inline-block"},children:"📋 Load Transactions"})]}),(0,Wt.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:(null===(y=Lt.transactions)||void 0===y?void 0:y.length)>0?Lt.transactions.map(((e,t)=>{var r;return(0,Wt.jsx)("div",{style:{padding:"12px",border:"1px solid #374151",borderRadius:"8px",marginBottom:"8px",background:"#1f2937"},children:(0,Wt.jsxs)("div",{style:{fontSize:"13px",color:"#8892b0",marginBottom:"8px"},children:[(0,Wt.jsxs)("div",{children:[bt||(bt=(0,Wt.jsx)("strong",{children:"TxID:"}))," ",null===(r=e.txid)||void 0===r?void 0:r.substring(0,32),"..."]}),(0,Wt.jsxs)("div",{children:[yt||(yt=(0,Wt.jsx)("strong",{children:"Type:"}))," ",e.type," | ",vt||(vt=(0,Wt.jsx)("strong",{children:"Sequence:"}))," ",e.sequence]}),(0,Wt.jsxs)("div",{children:[St||(St=(0,Wt.jsx)("strong",{children:"Time:"}))," ",new Date(1e3*e.timestamp).toLocaleString()]}),(0,Wt.jsxs)("div",{children:[jt||(jt=(0,Wt.jsx)("strong",{children:"Confirmations:"}))," ",e.confirmations]})]})},t)})):(0,Wt.jsx)("p",{style:{color:"#6b7280",textAlign:"center"},children:'No transactions loaded. Enter an account name and click "Load Transactions".'})})]})]}),"accounts"===kr&&(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)(rr,{children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#06b6d4"},children:"📁 Create New Account"}),(0,Wt.jsxs)(C.nV,{legend:"Create a new token account",children:[(0,Wt.jsx)(Qt,{placeholder:"Account Name",value:dr.name,onChange:e=>cr((t=>({...t,name:e.target.value})))}),(0,Wt.jsx)(Qt,{placeholder:"Token (address, ticker, or 'NXS')",value:dr.token,onChange:e=>cr((t=>({...t,token:e.target.value})))}),(0,Wt.jsx)(er,{onClick:Rr,disabled:u,children:u?"Creating...":"📁 Create Account"})]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#8b5cf6"},children:"📊 Account Management"}),(0,Wt.jsxs)(C.nV,{legend:"Get account information",children:[(0,Wt.jsx)(Qt,{placeholder:"Account name for details/history",value:Sr,onChange:e=>jr(e.target.value)}),(0,Wt.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Wt.jsx)(er,{variant:"secondary",onClick:()=>(async e=>{try{const t=await NEXUS.utilities.apiCall("finance/get/account",{name:e});NEXUS.utilities.showInfoDialog({message:"Account Details",note:JSON.stringify(t,null,2)})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Get Account Details",note:(null==e?void 0:e.message)||"Unknown error occurred"})}})(Sr),disabled:!Sr||u,children:"📋 Get Details"}),(0,Wt.jsx)(er,{variant:"secondary",onClick:()=>(async e=>{try{const t=await NEXUS.utilities.apiCall("finance/history/account",{name:e});NEXUS.utilities.showInfoDialog({message:"Account History",note:JSON.stringify(t,null,2)})}catch(e){NEXUS.utilities.showErrorDialog({message:"Failed to Get Account History",note:(null==e?void 0:e.message)||"Unknown error occurred"})}})(Sr),disabled:!Sr||u,children:"📜 Get History"})]})]})]})]}),(0,Wt.jsxs)(Kt,{children:[kt||(kt=(0,Wt.jsx)("h3",{children:"📋 Your Accounts"})),(0,Wt.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:(null===(k=Lt.accounts)||void 0===k?void 0:k.length)>0?Lt.accounts.map(((e,t)=>(0,Wt.jsxs)("div",{style:{padding:"12px",borderBottom:"1px solid #374151",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("span",{style:{fontWeight:"bold",color:"#8b5cf6"},children:[e.ticker||"N/A"," Account"]}),(0,Wt.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:["Balance: ",parseFloat(e.balance||0).toFixed(e.decimals||6)]}),(0,Wt.jsx)("div",{style:{fontSize:"10px",color:"#4b5563"},children:e.address})]}),(0,Wt.jsx)("div",{style:{display:"flex",gap:"4px"},children:(0,Wt.jsx)("button",{onClick:()=>jr(e.name||e.address),style:{background:"#374151",border:"none",color:"#8b5cf6",padding:"4px 8px",borderRadius:"4px",fontSize:"11px",cursor:"pointer"},children:"Select"})})]},t))):(0,Wt.jsx)("p",{style:{color:"#6b7280",textAlign:"center"},children:"No accounts found. Create your first account above."})})]})]}),"tokens"===kr&&(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)(rr,{children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#8b5cf6"},children:"🪙 Create New Token"}),(0,Wt.jsxs)(C.nV,{legend:"Create a new token",children:[(0,Wt.jsx)(Qt,{placeholder:"Token Name",value:ar.name,onChange:e=>lr((t=>({...t,name:e.target.value})))}),(0,Wt.jsx)(Qt,{type:"number",placeholder:"Total Supply",value:ar.supply,onChange:e=>lr((t=>({...t,supply:e.target.value})))}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("label",{style:{color:"#8892b0",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Token Decimals (0-18, default: 2)"}),(0,Wt.jsx)(Qt,{type:"number",placeholder:"2",value:ar.decimals,min:"0",max:"18",onChange:e=>{const t=Math.max(0,Math.min(18,parseInt(e.target.value)||0));lr((e=>({...e,decimals:t.toString()})))}})]}),(0,Wt.jsx)(er,{onClick:Or,disabled:u,children:u?"Creating...":"🪙 Create Token"})]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#ef4444"},children:"🔥 Burn Tokens"}),(0,Wt.jsxs)(C.nV,{legend:"Permanently remove tokens from circulation",children:[(0,Wt.jsx)(Qt,{placeholder:"Account Name or Address",value:xr.account,onChange:e=>gr((t=>({...t,account:e.target.value})))}),(0,Wt.jsx)(Qt,{type:"number",placeholder:"Amount to Burn",value:xr.amount,onChange:e=>gr((t=>({...t,amount:e.target.value})))}),(0,Wt.jsx)(Qt,{placeholder:"Reference (optional)",value:xr.reference,onChange:e=>gr((t=>({...t,reference:e.target.value})))}),(0,Wt.jsx)(er,{variant:"danger",onClick:Br,disabled:u,children:u?"Burning...":"🔥 Burn Tokens"})]})]})]}),(0,Wt.jsxs)(Kt,{children:[wt||(wt=(0,Wt.jsx)("h3",{children:"🪙 Your Tokens"})),(0,Wt.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:(null===(N=Lt.tokens)||void 0===N?void 0:N.length)>0?Lt.tokens.map(((e,t)=>(0,Wt.jsx)("div",{style:{padding:"12px",borderBottom:"1px solid #374151",display:"flex",justifyContent:"space-between"},children:(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{style:{fontWeight:"bold",color:"#8b5cf6"},children:e.ticker||"Unknown Token"}),(0,Wt.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:["Supply: ",parseFloat(e.currentsupply||0).toFixed(e.decimals||2)," / ",parseFloat(e.maxsupply||0).toFixed(e.decimals||2)]}),(0,Wt.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:["Decimals: ",e.decimals||0]}),(0,Wt.jsx)("div",{style:{fontSize:"10px",color:"#4b5563"},children:e.address})]})},t))):(0,Wt.jsx)("p",{style:{color:"#6b7280",textAlign:"center"},children:"No tokens found. Create your first token above."})})]})]}),"staking"===kr&&(0,Wt.jsx)("div",{children:(0,Wt.jsxs)(rr,{children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#f59e0b"},children:"🥩 Manage Stake"}),(0,Wt.jsxs)(C.nV,{legend:"Set staking amount",children:[(0,Wt.jsx)(Qt,{type:"number",placeholder:"New Stake Amount (total stake, not additional)",value:ur.amount,onChange:e=>pr((t=>({...t,amount:e.target.value})))}),(0,Wt.jsx)(Qt,{type:"number",placeholder:"Expires (seconds, 0 = never)",value:ur.expires,onChange:e=>pr((t=>({...t,expires:e.target.value})))}),(0,Wt.jsx)(er,{onClick:Dr,disabled:u,children:u?"Updating...":"🥩 Update Stake"})]}),(0,Wt.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:"#1f2937",borderRadius:"8px",fontSize:"13px",color:"#8892b0"},children:[Nt||(Nt=(0,Wt.jsx)("strong",{children:"Note:"}))," This sets the total stake amount. If you currently have 10,000 NXS staked and want to add 5,000 more, enter 15,000."]})]}),Lt.stakeInfo&&(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#10b981"},children:"📊 Current Staking Status"}),(0,Wt.jsxs)("div",{style:{background:"#1f2937",padding:"16px",borderRadius:"8px"},children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"14px",color:"#8892b0"},children:[Ct||(Ct=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Address:"})})),(0,Wt.jsx)("div",{style:{fontSize:"12px",wordBreak:"break-all"},children:Lt.stakeInfo.address}),Et||(Et=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Available Balance:"})})),(0,Wt.jsxs)("div",{children:[parseFloat(Lt.stakeInfo.balance||0).toFixed(6)," NXS"]}),Tt||(Tt=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Staked Amount:"})})),(0,Wt.jsxs)("div",{children:[parseFloat(Lt.stakeInfo.stake||0).toFixed(6)," NXS"]}),At||(At=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Trust Score:"})})),(0,Wt.jsx)("div",{children:Lt.stakeInfo.trust||0}),Ot||(Ot=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Annual Stake Rate:"})})),(0,Wt.jsxs)("div",{children:[parseFloat(Lt.stakeInfo.stakerate||0).toFixed(4),"%"]}),Rt||(Rt=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Trust Weight:"})})),(0,Wt.jsxs)("div",{children:[parseFloat(Lt.stakeInfo.trustweight||0).toFixed(2),"%"]}),Dt||(Dt=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Block Weight:"})})),(0,Wt.jsxs)("div",{children:[parseFloat(Lt.stakeInfo.blockweight||0).toFixed(2),"%"]}),Bt||(Bt=(0,Wt.jsx)("div",{children:(0,Wt.jsx)("strong",{children:"Stake Weight:"})})),(0,Wt.jsxs)("div",{children:[parseFloat(Lt.stakeInfo.stakeweight||0).toFixed(2),"%"]})]}),(0,Wt.jsxs)("div",{style:{marginTop:"16px",display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,Wt.jsx)(tr,{status:Lt.stakeInfo.staking?"connected":"disconnected",children:Lt.stakeInfo.staking?"✅ Staking Active":"❌ Staking Inactive"}),(0,Wt.jsx)(tr,{status:Lt.stakeInfo.onhold?"disconnected":"connected",children:Lt.stakeInfo.onhold?"⏳ On Hold":"🚀 Ready"}),Lt.stakeInfo.change&&(Ft||(Ft=(0,Wt.jsx)(tr,{status:"disconnected",children:"🔄 Pending Change"})))]})]})]})]})}),"advanced"===kr&&(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)(rr,{children:[(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#ef4444"},children:"❌ Void Transaction"}),(0,Wt.jsxs)(C.nV,{legend:"Reverse unclaimed debit transactions",children:[(0,Wt.jsx)(Qt,{placeholder:"Transaction ID to void",value:fr.txid,onChange:e=>hr((t=>({...t,txid:e.target.value})))}),(0,Wt.jsx)(er,{variant:"danger",onClick:Fr,disabled:u,children:u?"Voiding...":"❌ Void Transaction"})]}),(0,Wt.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:"#7f1d1d",borderRadius:"8px",fontSize:"13px",color:"#fecaca"},children:[Xt||(Xt=(0,Wt.jsx)("strong",{children:"Warning:"}))," Only works on unclaimed debit/transfer transactions. This action cannot be undone once confirmed."]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#8b5cf6"},children:"🔄 Migration & Tools"}),(0,Wt.jsx)(C.nV,{legend:"Advanced operations",children:(0,Wt.jsx)(er,{variant:"secondary",onClick:async()=>{try{p(!0);const e=await NEXUS.utilities.secureApiCall("finance/migrate/accounts",{createname:!0});NEXUS.utilities.showSuccessDialog({message:"Legacy Accounts Migrated",note:`Migrated ${(null==e?void 0:e.length)||0} accounts successfully`}),await Nr()}catch(e){NEXUS.utilities.showErrorDialog({message:"Migration Failed",note:(null==e?void 0:e.message)||"Unknown error occurred"})}finally{p(!1)}},disabled:u,children:"🔄 Migrate Legacy Accounts"})}),(0,Wt.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:"#1f2937",borderRadius:"8px",fontSize:"13px",color:"#8892b0"},children:[Ut||(Ut=(0,Wt.jsx)("strong",{children:"Info:"}))," This migrates legacy wallet accounts to signature chain accounts. Each migration incurs a 0.01 NXS fee per account."]})]})]}),(0,Wt.jsxs)(Kt,{children:[(0,Wt.jsx)("h3",{style:{color:"#06b6d4"},children:"📚 Finance API Endpoints Available"}),(0,Wt.jsxs)("div",{style:{background:"#1f2937",padding:"16px",borderRadius:"8px",fontSize:"13px",color:"#8892b0"},children:[(0,Wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:[It||(It=(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("strong",{children:"Verbs:"})," create, debit, credit, burn, get, list, history, transactions"]})),Pt||(Pt=(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("strong",{children:"Nouns:"})," account, trust, token, any, all"]})),zt||(zt=(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("strong",{children:"Direct:"})," get/balances, get/stakeinfo, set/stake, void/transaction, migrate/accounts"]}))]}),(0,Wt.jsxs)("div",{style:{marginTop:"12px"},children:[Mt||(Mt=(0,Wt.jsx)("strong",{children:"Pattern:"}))," finance/verb/noun/filter/operator"]})]})]})]})]})})}var d,f,m,y,k,N,E,X,I,P,W,H,Z,_t,Vt,Gt,qt,Zt,Jt,nr,or,Ur,Ir,Pr,zr,Mr,Wr,$r,_r})()})]})}var or;function ir(){const e=f((e=>e.nexus.initialized)),t=f((e=>e.nexus.theme));return(0,Wt.jsx)(C.oj,{initialized:e,theme:t,children:or||(or=(0,Wt.jsx)(nr,{}))})}const sr=function(){const e=[(0,C.QO)((({settings:e})=>({settings:e}))),(0,C.se)((({ui:e})=>({ui:e})))];return F((function(e,t){const r=X({settings:_,ui:L,nexus:C.Wy})(e,t);if(t.type===C.Zv){const{storageData:e,moduleState:n}=t.payload;if(e||n)return{...r,...t.payload.storageData,...t.payload.moduleState}}return r}),U(I(...e)))}();(0,C.yt)(sr),(0,n.Hr)(document.getElementById("root")).render((0,Wt.jsx)(y,{store:sr,children:(0,Wt.jsx)(ir,{})}))})();
//# sourceMappingURL=app.js.map